if (self.CavalryLogger) { CavalryLogger.start_js(["oj7ZMI4"]); }

__d("ProductTaggingBuyerTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:ProductTaggingBuyerLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:ProductTaggingBuyerLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:ProductTaggingBuyerLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdID=function(a){this.$1.ad_id=a;return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setCreatorID=function(a){this.$1.creator_id=a;return this};c.setDurationMs=function(a){this.$1.duration_ms=a;return this};c.setFunnelID=function(a){this.$1.funnel_id=a;return this};c.setIndex=function(a){this.$1.index=a;return this};c.setLogID=function(a){this.$1.log_id=a;return this};c.setObjectID=function(a){this.$1.object_id=a;return this};c.setOverrideEntityID=function(a){this.$1.override_entity_id=a;return this};c.setOverrideEntityType=function(a){this.$1.override_entity_type=a;return this};c.setParentLogID=function(a){this.$1.parent_log_id=a;return this};c.setPostID=function(a){this.$1.post_id=a;return this};c.setProductItemID=function(a){this.$1.product_item_id=a;return this};c.setProductsInvisibilityReasons=function(a){this.$1.products_invisibility_reasons=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setReferralCode=function(a){this.$1.referral_code=a;return this};c.setSellerCurrency=function(a){this.$1.seller_currency=a;return this};c.setSellerProfileID=function(a){this.$1.seller_profile_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setUnresolvedEvent=function(a){this.$1.unresolved_event=a;return this};c.setVideoViewDurationMs=function(a){this.$1.video_view_duration_ms=a;return this};return a}();c={ad_id:!0,client_time:!0,component:!0,creator_id:!0,duration_ms:!0,funnel_id:!0,index:!0,log_id:!0,object_id:!0,override_entity_id:!0,override_entity_type:!0,parent_log_id:!0,post_id:!0,product_item_id:!0,products_invisibility_reasons:!0,referral_code:!0,seller_currency:!0,seller_profile_id:!0,session_id:!0,surface:!0,unresolved_event:!0,video_view_duration_ms:!0};e.exports=a}),null);
__d("CometLinkAlertListItem_linkAlert.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLinkAlertListItem_linkAlert",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotion_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null}],type:"LiveShoppingFeaturedLinkWrapper",abstractKey:null};e.exports=a}),null);
__d("CometProductTagListItem_productItem.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],c=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometProductTagListItem_productItem",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_tag_product",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_profile_selling_post",storageKey:null},{alias:"picture",args:b,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:"profile_picture(height:120,width:120)"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[{alias:null,args:b,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:c,storageKey:"image(height:120,width:120)"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[a],storageKey:null}],type:"ProductItem",abstractKey:null}}();e.exports=a}),null);
__d("CometProductTagSeeAllCard_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometProductTagSeeAllCard_profile",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:120,width:120)"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shop_storefront",plural:!1,selections:[a],storageKey:null}],type:"Page",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}}();e.exports=a}),null);
__d("CometProductTagsListSection_linkAlerts.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"CometProductTagsListSection_linkAlerts",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometLinkAlertListItem_linkAlert"}],type:"LiveShoppingFeaturedLinkWrapper",abstractKey:null};e.exports=a}),null);
__d("CometProductTagsListSection_productMatches.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"CometProductTagsListSection_productMatches",selections:[{alias:null,args:null,concreteType:"ProductTagProductBox",kind:"LinkedField",name:"product_box",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductTagSuggestedProduct",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometProductTagListItem_productItem"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"ProductMatchData",abstractKey:null};e.exports=a}),null);
__d("CometProductTagsListSection_productTags.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"CometProductTagsListSection_productTags",selections:[a,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[a,{args:null,kind:"FragmentSpread",name:"CometProductTagListItem_productItem"}],storageKey:null}],type:"ProductTag",abstractKey:null}}();e.exports=a}),null);
__d("CometProductTagsListSection_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometProductTagsListSection_profile",selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagSeeAllCard_profile"}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("CometPhotoViewerSimilarProductsSection_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoViewerSimilarProductsSection_photo",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagsListSection_profile"}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null},{alias:null,args:null,concreteType:"ProductMatchData",kind:"LinkedField",name:"product_matches",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagsListSection_productMatches"}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometPhotoViewerTaggedProductsSection_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoViewerTaggedProductsSection_photo",selections:[a,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagsListSection_profile"}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null},{kind:"InlineDataFragmentSpread",name:"CometAIProductTagSuggestionsUtil_photo",selections:[a,{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[a,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagsListSection_productTags"},a,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},a],storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("CometRemote360PhotoViewer_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometRemote360PhotoViewer_photo",selections:[{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_horizontal_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometRemote3DPhotoViewer_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometRemote3DPhotoViewer_photo",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"immersive_photo_encodings",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"binary_cdn_uri",storageKey:null}],type:"PhotoEncoding3D",abstractKey:null}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("Comet360PhotoTiledCubemapDataProvider_tileUriQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"tileInfoList"}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"tile_info_list",variableName:"tileInfoList"}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"PhotoEncoding",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"Comet360PhotoTiledCubemapDataProvider_tileUriQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"Comet360PhotoTiledCubemapDataProvider_tileUriQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"3659494560839015",metadata:{},name:"Comet360PhotoTiledCubemapDataProvider_tileUriQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometPendingTagRequestList_tagReview.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPendingTagRequestList_tagReview",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"PhotoPendingTagsConnection",kind:"LinkedField",name:"pending_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoPendingTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"profile_photo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TagReviewUnitsConnection",kind:"LinkedField",name:"tag_review",plural:!1,selections:[{alias:null,args:null,concreteType:"TagReviewUnit",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"subject_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("CometPhotoApproveTagMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometPhotoApproveTagMutation",selections:[{alias:null,args:b,concreteType:"PhotoApproveTagResponsePayload",kind:"LinkedField",name:"photo_approve_tag",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[c,{args:null,kind:"FragmentSpread",name:"CometPendingTagRequestList_tagReview"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometPhotoApproveTagMutation",selections:[{alias:null,args:b,concreteType:"PhotoApproveTagResponsePayload",kind:"LinkedField",name:"photo_approve_tag",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[d,c],storageKey:null},{alias:null,args:null,concreteType:"PhotoPendingTagsConnection",kind:"LinkedField",name:"pending_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoPendingTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"profile_photo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},c],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TagReviewUnitsConnection",kind:"LinkedField",name:"tag_review",plural:!1,selections:[{alias:null,args:null,concreteType:"TagReviewUnit",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"subject_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2367388886706811",metadata:{},name:"CometPhotoApproveTagMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometPhotoRejectTagMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometPhotoRejectTagMutation",selections:[{alias:null,args:b,concreteType:"PhotoRejectTagResponsePayload",kind:"LinkedField",name:"photo_reject_tag",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[c,{args:null,kind:"FragmentSpread",name:"CometPendingTagRequestList_tagReview"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometPhotoRejectTagMutation",selections:[{alias:null,args:b,concreteType:"PhotoRejectTagResponsePayload",kind:"LinkedField",name:"photo_reject_tag",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[d,c],storageKey:null},{alias:null,args:null,concreteType:"PhotoPendingTagsConnection",kind:"LinkedField",name:"pending_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoPendingTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"profile_photo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},c],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TagReviewUnitsConnection",kind:"LinkedField",name:"tag_review",plural:!1,selections:[{alias:null,args:null,concreteType:"TagReviewUnit",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"subject_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2080157305421079",metadata:{},name:"CometPhotoRejectTagMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometMediaUFIChainingSection_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"canShowSeenState"},{kind:"RootArgument",name:"feedbackSource"}],kind:"Fragment",metadata:null,name:"CometMediaUFIChainingSection_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Variable",name:"feedback_source_integer",variableName:"feedbackSource"}],kind:"ScalarField",name:"is_eligible_for_real_time_updates",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentListRenderer_feedback"},{args:[{kind:"Variable",name:"canShowSeenState",variableName:"canShowSeenState"}],kind:"FragmentSpread",name:"CometUFISummaryAndActions_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometMediaUFIChainingSection_shareable.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaUFIChainingSection_shareable",selections:[{args:null,kind:"FragmentSpread",name:"CometUFISummaryAndActions_shareable"}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("CometMediaUFIChainingSection_tagReview.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaUFIChainingSection_tagReview",selections:[{args:null,kind:"FragmentSpread",name:"CometPendingTagRequestList_tagReview"}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometMediaUFI_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometMediaUFI_feedback",selections:[{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometMediaUFIChainingSection_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometMediaUFI_shareable.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_share",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometMediaUFIChainingSection_shareable"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaUFI_shareable",selections:[{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaUFI_tagReview.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaUFI_tagReview",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaUFIChainingSection_tagReview"}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometMediaViewerContextSection_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedStoryActorPhotoSection_story"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryMetadataSection_story"},{args:null,kind:"FragmentSpread",name:"CometMediaViewerTitleSection_story"},{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["CometFeedStoryInformTreatmentFooterStrategy"]}],concreteType:null,kind:"LinkedField",name:"footer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometMediaViewerContextSection_media",fragmentName:"CometFeedStoryInformTreatmentFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInformTreatmentFooterStrategy",abstractKey:null}],storageKey:'footer(supported:["CometFeedStoryInformTreatmentFooterStrategy"])'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometMediaViewerContextSection_media",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerDescriptionSection_media"},{args:null,kind:"FragmentSpread",name:"CometMediaViewerStorySuffixSection_media"},{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:[a,{args:null,kind:"FragmentSpread",name:"CometMediaViewerFallbackForNoStory_media"},b,{args:null,kind:"FragmentSpread",name:"CometPhotoViewerTaggedProductsSection_photo"},{args:null,kind:"FragmentSpread",name:"CometPhotoViewerSimilarProductsSection_photo"}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},a,b],type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerDescriptionSection_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],b={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:a,storageKey:null},c={alias:null,args:[{kind:"Literal",name:"supported",value:["TextWithEntities","FBMarkdownCommentBody"]}],concreteType:null,kind:"LinkedField",name:"message_preferred_body",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometMediaViewerDescriptionSection_media",fragmentName:"CometMediaViewerDescriptionSectionTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMediaViewerDescriptionSection_media",fragmentName:"CometMediaViewerDescriptionSectionComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'message_preferred_body(supported:["TextWithEntities","FBMarkdownCommentBody"])'};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerDescriptionSection_media",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"attached_comment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:a,storageKey:null}],storageKey:null},b,c],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[b,c],type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerFallbackForNoStory_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"privacySelectorRenderLocation"}],kind:"Fragment",metadata:null,name:"CometMediaViewerFallbackForNoStory_media",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerDescriptionSection_media"},{args:null,kind:"FragmentSpread",name:"CometMediaViewerStorySuffixSection_media"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{args:[{kind:"Variable",name:"renderLocation",variableName:"privacySelectorRenderLocation"}],kind:"FragmentSpread",name:"CometPrivacySelectorForScope_scope"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:120,width:120)"}],storageKey:null}],type:"Photo",abstractKey:null}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("CometMediaViewerStorySuffixSection_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometMediaViewerSuffixSection_story"}];a=[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:a,storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerStorySuffixSection_media",selections:[{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerSuffixSection_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerSuffixSection_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"location",value:"comet_media_viewer"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"suffix",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:'suffix(location:"comet_media_viewer")'}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometMediaViewerTitleSection_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerTitleSection_story",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedStoryActorLink_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometMediaViewerPhotoActionsAddProductTagsMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},g=[f],h={alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},j=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],k=[d],l=[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],m=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],n={kind:"InlineFragment",selections:k,type:"Node",abstractKey:"__isNode"},o={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},p={alias:null,args:[{kind:"Literal",name:"height",value:140},{kind:"Literal",name:"width",value:140}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:140,width:140)"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMediaViewerPhotoActionsAddProductTagsMutation",selections:[{alias:null,args:b,concreteType:"CreateProductTagResponsePayload",kind:"LinkedField",name:"create_product_tag",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagWrapper_photo"},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoViewerTaggedProductsSection_photo"}],type:"Photo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMediaViewerPhotoActionsAddProductTagsMutation",selections:[{alias:null,args:b,concreteType:"CreateProductTagResponsePayload",kind:"LinkedField",name:"create_product_tag",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},d,{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{kind:"InlineFragment",selections:g,type:"User",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Group",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[h,i,d],storageKey:null}],type:"Photo",abstractKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_tag",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"location",plural:!1,selections:j,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[h,i,d,{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[c,e,d],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[c,d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CommerceMerchantSettings",kind:"LinkedField",name:"preferred_merchant_settings",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductCatalog",kind:"LinkedField",name:"product_catalog",plural:!1,selections:k,storageKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_shared_catalog_segments",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:l,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:120,width:120)"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shop_storefront",plural:!1,selections:[c,n],storageKey:null}],type:"Page",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_tags",storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[d,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_tag_product",storageKey:null},e,o,p,f,{alias:null,args:null,kind:"ScalarField",name:"is_profile_selling_post",storageKey:null},{alias:"picture",args:l,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:120,width:120)"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[c,{alias:null,args:l,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:120,width:120)"},d],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[c,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:j,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductMatchData",kind:"LinkedField",name:"product_matches",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductTagProductBox",kind:"LinkedField",name:"product_box",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductTagSuggestedProduct",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[d,e,o,p,f],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"center_x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"center_y",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},d],storageKey:null}],type:"Photo",abstractKey:null},n,{kind:"InlineFragment",selections:k,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:k,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:k,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3979612782121137",metadata:{},name:"CometMediaViewerPhotoActionsAddProductTagsMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometMediaViewerPhotoActionsCropPhotoMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={kind:"Literal",name:"bool_default",value:!1},f={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null},h=[c],i=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMediaViewerPhotoActionsCropPhotoMutation",selections:[{alias:null,args:b,concreteType:"PhotoCropResponsePayload",kind:"LinkedField",name:"photo_crop",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[c,{args:null,kind:"FragmentSpread",name:"CometPhotoViewer_photo"},{args:null,kind:"FragmentSpread",name:"CometPhotoEditorEditedPhoto_photo"},{args:null,kind:"FragmentSpread",name:"EntPhotoCollageItem_media"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMediaViewerPhotoActionsCropPhotoMutation",selections:[{alias:null,args:b,concreteType:"PhotoCropResponsePayload",kind:"LinkedField",name:"photo_crop",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_tags",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[d,c,{kind:"InlineFragment",selections:[{alias:"user_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"additional_profile_has_taggable_products",args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_admin",storageKey:null},{alias:"page_shop_has_taggable_products",args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_shop_upgrade_admin_and_page_eligibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_shops_can_block_product_tagging",storageKey:null},{alias:"friction_gk",args:[{kind:"Literal",name:"gk_name",value:"fb_shops_legacy_shop_product_tagging_friction"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],storageKey:'gk_check(gk_name:"fb_shops_legacy_shop_product_tagging_friction")'},{alias:"blocking_qe",args:[{kind:"Literal",name:"disable_auto_log_exposures",value:!0},{kind:"Literal",name:"qe_universe",value:"legacy_shop_admins_on_page"}],concreteType:"QECheck",kind:"LinkedField",name:"qe_check",plural:!1,selections:[{alias:"is_in_blocking_experiment",args:[e,{kind:"Literal",name:"param_name",value:"in_product_tagging_block_experiment"}],kind:"ScalarField",name:"bool",storageKey:'bool(bool_default:false,param_name:"in_product_tagging_block_experiment")'},{alias:"should_block",args:[e,{kind:"Literal",name:"param_name",value:"should_block_product_tagging"}],kind:"ScalarField",name:"bool",storageKey:'bool(bool_default:false,param_name:"should_block_product_tagging")'}],storageKey:'qe_check(disable_auto_log_exposures:true,qe_universe:"legacy_shop_admins_on_page")'}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},f],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[g,{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_horizontal_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"immersive_photo_encodings",plural:!0,selections:[d,g,c,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"binary_cdn_uri",storageKey:null}],type:"PhotoEncoding3D",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[c,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"photo_viewer"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometPhotoViewer_photo",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"photo_viewer")'},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:i,storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"4050680118358257",metadata:{},name:"CometMediaViewerPhotoActionsCropPhotoMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometMediaViewerPhotoActionsDeleteProductTagMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},g=[f],h={alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},j=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],k=[d],l={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},m={alias:null,args:[{kind:"Literal",name:"height",value:140},{kind:"Literal",name:"width",value:140}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:140,width:140)"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMediaViewerPhotoActionsDeleteProductTagMutation",selections:[{alias:null,args:b,concreteType:"DeleteProductTagResponsePayload",kind:"LinkedField",name:"delete_product_tag",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagWrapper_photo"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMediaViewerPhotoActionsDeleteProductTagMutation",selections:[{alias:null,args:b,concreteType:"DeleteProductTagResponsePayload",kind:"LinkedField",name:"delete_product_tag",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},d,{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{kind:"InlineFragment",selections:g,type:"User",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Group",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[h,i,d],storageKey:null}],type:"Photo",abstractKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_tag",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"location",plural:!1,selections:j,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[h,i,d,{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[c,e,d],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[c,d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CommerceMerchantSettings",kind:"LinkedField",name:"preferred_merchant_settings",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductCatalog",kind:"LinkedField",name:"product_catalog",plural:!1,selections:k,storageKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_shared_catalog_segments",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_tags",storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[d,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_tag_product",storageKey:null},e,l,m,f],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:j,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductMatchData",kind:"LinkedField",name:"product_matches",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductTagProductBox",kind:"LinkedField",name:"product_box",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductTagSuggestedProduct",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[d,e,l,m,f],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"center_x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"center_y",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},d],storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:k,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:k,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:k,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:k,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:"4103901576382578",metadata:{},name:"CometMediaViewerPhotoActionsDeleteProductTagMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometMediaViewerPhotoActionsEditMessageMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},g={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[f],storageKey:null},h={alias:null,args:[{kind:"Literal",name:"supported",value:["TextWithEntities","FBMarkdownCommentBody"]}],concreteType:null,kind:"LinkedField",name:"message_preferred_body",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometMediaViewerDescriptionSection_media",fragmentName:"CometMediaViewerDescriptionSectionTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMediaViewerDescriptionSection_media",fragmentName:"CometMediaViewerDescriptionSectionComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'message_preferred_body(supported:["TextWithEntities","FBMarkdownCommentBody"])'};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMediaViewerPhotoActionsEditMessageMutation",selections:[{alias:null,args:c,concreteType:"PhotoEditMessageResponsePayload",kind:"LinkedField",name:"photo_edit_message",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelayDEPRECATED_textWithEntities"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometMediaViewerDescriptionSection_media"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedMessageTextWithEntities_textWithEntities"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMediaViewerPhotoActionsEditMessageMutation",selections:[{alias:null,args:c,concreteType:"PhotoEditMessageResponsePayload",kind:"LinkedField",name:"photo_edit_message",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[d,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{kind:"InlineFragment",selections:[e,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelayDEPRECATED_textWithEntities",fragmentName:"GroupsCometHashtagsStoryMessageHashtagLink_hashtag",fragmentPropName:"hashtag",kind:"ModuleImport"}],type:"GroupHashtag",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelayDEPRECATED_textWithEntities",fragmentName:"PagesCometPageLink_page",fragmentPropName:"page",kind:"ModuleImport"}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[e],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[g,e],storageKey:null},e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"attached_comment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[d,f],storageKey:null},e],storageKey:null},g,h],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[g,h],type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}],storageKey:null}],storageKey:null}]},params:{id:"3937851279655654",metadata:{},name:"CometMediaViewerPhotoActionsEditMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometPhotoViewerAIProductTagSuggestions.react",["CometPhotoViewerViewStateDispatcherContext","CometRelay","SharedAIProductTagUtils","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.aiSuggestionsQuery,d=a.photoID;a=a.queryReference;var e=h.useContext(b("CometPhotoViewerViewStateDispatcherContext"));c=b("CometRelay").usePreloadedQuery(c,a);a=b("SharedAIProductTagUtils").processAIProductTagSuggestionsQueryResponse(c);c=a.get(d);if(!c)return null;e({knownAITags:c.knownSuggestions,photoID:d,type:"SET_KNOWN_AI_TAGS"});e({photoID:d,type:"SET_UNKNOWN_AI_TAGS",unknownAITags:c.unknownSuggestions});return null}}),null);
__d("CometPhotoViewerAIProductTagSuggestionTrigger.react",["CometAIProductTagSuggestionsQuery.react","CometPhotoViewerAIProductTagSuggestions.react","CometPhotoViewerViewStateContext","CometRelay","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.photoID;a=h.useContext(b("CometPhotoViewerViewStateContext"));var d=b("CometRelay").useQueryLoader(b("CometAIProductTagSuggestionsQuery.react")),e=d[0],f=d[1];h.useEffect(function(){f({max_suggestions_per_photo:1,photo_ids:[c]})},[f,c]);return c!==null&&c!==void 0&&!((d=a.knownAITags)==null?void 0:d.has(c))&&!((d=a.unknownAITags)==null?void 0:d.has(c))&&e!=null?h.jsx(b("CometPhotoViewerAIProductTagSuggestions.react"),{aiSuggestionsQuery:b("CometAIProductTagSuggestionsQuery.react"),photoID:c,queryReference:e}):null}}),null);
__d("LiveShoppingViewerFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743808");c=b("FalcoLoggerInternal").create("live_shopping_viewer",a);e.exports=c}),null);
__d("CometLinkAlertListItem.react",["fbt","ix","CometCard.react","CometImage.react","CometLink.react","CometLinkAlertListItem_linkAlert.graphql","CometRelay","LiveShoppingViewerFalcoEvent","TetraText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k,l=j||b("react"),m=120,n={image:{},imageContainer:{alignItems:"bp9cbjyn",display:"j83agx80",height:"pe468gzs",justifyContent:"taijpn5t",width:"pnicyljo"},imageLinkActive:{backgroundColor:"pugbgu5t",display:"a8c37x1j",opacity:"byekypgc",textDecoration:"esuyzwwr"},inset:{bottom:"i09qtzwb",boxShadow:"oaz4zybt",height:"ay7djpcl",position:"pmk7jnqg",width:"k4urcfbm"},nameContainer:{marginBottom:"oud54xpy"},priceContainer:{alignItems:"bp9cbjyn",display:"j83agx80"},rootContainer:{width:"pnicyljo"},textContainer:{height:"qu8okrzs",paddingTop:"l29c1vbm",paddingEnd:"d1544ag0",paddingBottom:"j7796vcc",paddingStart:"tw6a2znq"}};function a(a){var c=b("CometRelay").useFragment(i!==void 0?i:i=b("CometLinkAlertListItem_linkAlert.graphql"),a.linkAlert),d=l.useRef(!1),e=function(){if(d.current)return;b("LiveShoppingViewerFalcoEvent").log(function(){return{event:"link_promotion_card_view",link_id:c.id,link_url:c.promotion_uri,ui_component:"link_promotion_card",video_id:a.videoID}});d.current=!0};return c==null||c.id==null||c.promotion_uri==null?null:l.jsx("div",{className:(k||(k=b("stylex")))(n.rootContainer),ref:e,children:l.jsx(b("CometCard.react"),{background:"white",dropShadow:2,children:l.jsxs(b("CometLink.react"),{href:c.promotion_uri,onClick:function(){b("LiveShoppingViewerFalcoEvent").log(function(){return{event:"click",link_id:c.id,link_url:c.promotion_uri,ui_component:"link_promotion_card",video_id:a.videoID}})},xstyle:a.isProductHighlighted?n.imageLinkActive:null,children:[l.jsxs("div",{className:k(n.imageContainer),children:[l.jsx(b("CometImage.react"),{alt:g._("H\u00ecnh \u1ea3nh s\u1ea3n ph\u1ea9m"),height:m,src:(e=c.image_uri)!=null?e:h("1396214"),width:m,xstyle:n.image}),l.jsx("div",{className:k(n.inset)})]}),l.jsxs("div",{className:k(n.textContainer),children:[l.jsx("div",{className:k(n.nameContainer),children:l.jsx(b("TetraText.react"),{color:"primary",numberOfLines:2,type:"bodyLink4",children:c.text})}),l.jsx("div",{className:k(n.priceContainer),children:l.jsx(b("TetraText.react"),{color:"primary",numberOfLines:1,type:"body4",children:c.promotion_uri})})]})]})})})}}),null);
__d("CometProductTagHorizontalListItem.react",["fbt","ix","CometImage.react","CometLink.react","CometTooltip.react","TetraIcon.react","TetraText.react","XCometCommerceProductItemControllerRouteBuilder","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=i||b("react"),l=60,m={container:{alignItems:"bp9cbjyn",borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",flexGrow:"buofh1pr",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},deleteButton:{alignSelf:"nqmvxvec"},highlighted:{backgroundColor:"pugbgu5t"},productName:{flexGrow:"buofh1pr",marginBottom:"tvmbv18p",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0"},productPrice:{marginTop:"aahdfvyu",marginBottom:"tvmbv18p",paddingBottom:"e5nlhep0"},profileImage:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi"},rightContent:{flexGrow:"buofh1pr",marginStart:"ozuftl9m"},rootLayout:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"btwxx1t3",flexGrow:"buofh1pr"}};function a(a){var c=a.bottomComponent,d=a.isHighlighted,e=a.logImpression,f=a.onDeletePressed,i=a.onHover,n=a.productID,o=a.productImageURI,p=a.productName;a=a.productPrice;var q=k.useState(!1),r=q[0],s=q[1];q=b("XCometCommerceProductItemControllerRouteBuilder").buildURL({listing_id:n});var t=k.useRef(e);k.useEffect(function(){t.current&&t.current()},[]);return k.jsx(b("CometLink.react"),{href:q,style:{textDecoration:"none"},children:k.jsxs("div",{className:(j||(j=b("stylex")))(m.container,(d||r)&&m.highlighted),children:[k.jsxs("div",{className:j(m.rootLayout),onMouseEnter:function(){s(!0),i(!0)},onMouseLeave:function(){s(!1),i(!1)},children:[k.jsx(b("CometImage.react"),{height:l,src:o,width:l,xstyle:m.profileImage}),k.jsxs("div",{className:j(m.rightContent),children:[k.jsx("div",{className:j(m.productName),children:k.jsx(b("TetraText.react"),{color:"primary",numberOfLines:3,type:"bodyLink3",children:p})}),k.jsx("div",{className:j(m.productPrice),children:k.jsx(b("TetraText.react"),{color:"secondary",type:"meta3",children:a})})]}),k.jsx("div",{className:j(c&&m.deleteButton),children:k.jsx(b("CometTooltip.react"),{position:"above",tooltip:g._("G\u1ee1"),children:k.jsx(b("TetraIcon.react"),{"aria-label":"Close",color:"secondary",icon:b("fbicon")._(h("478232"),16),onPress:function(){f()}})})})]}),c]})})}}),null);
__d("CometMediaViewerPhotoActions",["fbt","CometMediaViewerPhotoActionsAddProductTagsMutation.graphql","CometMediaViewerPhotoActionsCropPhotoMutation.graphql","CometMediaViewerPhotoActionsDeleteProductTagMutation.graphql","CometMediaViewerPhotoActionsEditMessageMutation.graphql","CometRelay","WebPixelRatio","cometPushToast","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";f.edit=a;f.addProductTags=c;f.deleteProductTag=d;f.cropPhoto=e;var h,i,j,k,l=h!==void 0?h:h=b("CometMediaViewerPhotoActionsEditMessageMutation.graphql");function a(a){var c=a.environment,d=a.input,e=a.onCompleted,f=a.onError,h=d.id,i=d.message;a={message:i,photo_id:h};function j(a){a=(a=a.get(h))==null?void 0:a.getLinkedRecord("message");if(a==null)return;a.setValue(i.text,"text")}b("CometRelay").commitMutation(c,{mutation:l,onCompleted:e,onError:function(a){f();b("cometPushToast").cometPushErrorToast({message:g._("Kh\u00f4ng th\u1ec3 ch\u1ec9nh s\u1eeda \u1ea3nh")},4e3);b("recoverableViolation")(a.message,"comet_ui");return},optimisticUpdater:j,variables:{input:a,scale:b("WebPixelRatio").get()}})}var m=i!==void 0?i:i=b("CometMediaViewerPhotoActionsAddProductTagsMutation.graphql");function c(a){var c=a.environment;a=a.input;b("CometRelay").commitMutation(c,{mutation:m,onCompleted:function(){b("cometPushToast").cometPushSimpleToast(g._("\u0110\u00e3 g\u1eedi th\u1ebb s\u1ea3n ph\u1ea9m"),4e3)},onError:function(a){b("cometPushToast").cometPushErrorToast({message:g._("Kh\u00f4ng th\u1ec3 g\u1eafn th\u1ebb s\u1ea3n ph\u1ea9m trong \u1ea3nh")},4e3)},variables:{input:a,scale:b("WebPixelRatio").get()}})}var n=j!==void 0?j:j=b("CometMediaViewerPhotoActionsDeleteProductTagMutation.graphql");function d(a){var c=a.environment,d=a.input,e=a.onError;b("CometRelay").commitMutation(c,{mutation:n,onCompleted:function(){b("cometPushToast").cometPushSimpleToast(g._("\u0110\u00e3 g\u1ee1 th\u1ebb s\u1ea3n ph\u1ea9m"),4e3)},onError:function(a){b("cometPushToast").cometPushErrorToast({message:g._("Kh\u00f4ng th\u1ec3 x\u00f3a th\u1ebb")},4e3),e()},variables:{input:d,scale:b("WebPixelRatio").get()}})}var o=k!==void 0?k:k=b("CometMediaViewerPhotoActionsCropPhotoMutation.graphql");function e(a){var c=a.environment,d=a.input,e=a.onCompleted,f=a.onError;b("CometRelay").commitMutation(c,{mutation:o,onCompleted:e,onError:function(a){b("cometPushToast").cometPushErrorToast({message:g._("Kh\u00f4ng th\u1ec3 c\u1eaft \u1ea3nh")},4e3),f&&f()},variables:{input:d,scale:b("WebPixelRatio").get()}})}}),null);
__d("CommercePdpProductTagClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743406");c=b("FalcoLoggerInternal").create("commerce_pdp_product_tag_click",a);e.exports=c}),null);
__d("CommerceViewProductTagFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743420");c=b("FalcoLoggerInternal").create("commerce_view_product_tag",a);e.exports=c}),null);
__d("CometProductTagListItem.react",["fbt","ix","CometCard.react","CometImage.react","CometLink.react","CometMediaViewerPhotoActions","CometProductTagFunnelIDContext","CometProductTagListItem_productItem.graphql","CometProductTagReferralCodeContext","CometRelay","CometTooltip.react","CommercePdpProductTagClickFalcoEvent","CommerceViewProductTagFalcoEvent","LiveShoppingViewerFalcoEvent","ProductTaggingBuyerTypedLogger","TetraCircleButton.react","TetraText.react","XCometCommerceProductItemControllerRouteBuilder","emptyFunction","fbicon","react","stylex","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k,l=j||b("react"),m=120,n="#",o={crossButton:{end:"b5fwa0m2",position:"pmk7jnqg",top:"plgsh5y4"},image:{objectFit:"bixrwtb6"},imageContainer:{display:"j83agx80",height:"pe468gzs",position:"l9j0dhe7",width:"pnicyljo"},imageLinkActive:{backgroundColor:"pugbgu5t",display:"a8c37x1j",opacity:"byekypgc",textDecoration:"esuyzwwr"},inset:{bottom:"i09qtzwb",boxShadow:"oaz4zybt",height:"ay7djpcl",position:"pmk7jnqg",width:"k4urcfbm"},nameContainer:{marginBottom:"oud54xpy"},priceContainer:{alignItems:"bp9cbjyn",display:"j83agx80"},rootContainer:{width:"pnicyljo"},textContainer:{height:"qu8okrzs",paddingTop:"l29c1vbm",paddingEnd:"d1544ag0",paddingBottom:"j7796vcc",paddingStart:"tw6a2znq"}};function a(a){var c,d=l.useState(!1),e=d[0],f=d[1],j=b("CometRelay").useRelayEnvironment(),p=b("CometRelay").useFragment(i!==void 0?i:i=b("CometProductTagListItem_productItem.graphql"),a.productItem),q=a.productTagId,r=l.useContext(b("CometProductTagFunnelIDContext")),s=l.useRef(!1);d=function(){if(s.current)return;b("CommerceViewProductTagFalcoEvent").log(function(){return{ad_id:a.adID,component:"CometProductTagListItem",funnel_id:r,marketplace_surface:a.surface,post_id:a.postID,product_id:p==null?void 0:p.id,referral_code:a.referralCode}});Boolean(a.isLiveShoppingVideo)&&b("LiveShoppingViewerFalcoEvent").log(function(){return{event:"product_feature_card_view",product_item_id:p==null?void 0:p.id,ui_component:"product_feature_card",video_id:a.videoID}});s.current=!0};d=b("useVisibilityObserver")({onVisible:d});var t=l.useContext(b("CometProductTagReferralCodeContext")),u=l.useRef(!1),v=function(){b("CommercePdpProductTagClickFalcoEvent").log(function(){return{ad_id:a.adID,component:"CometProductTagListItem",funnel_id:r,marketplace_surface:a.surface,post_id:a.postID,product_id:p==null?void 0:p.id,referral_code:a.referralCode}});if(t!=null&&!u.current){var c=new(b("ProductTaggingBuyerTypedLogger"))();c.updateData({component:"CometProductTagListItem",post_id:a.postID,referral_code:t,surface:"page_photos_tab",unresolved_event:"Actn_PDPProductTagClick"}).log();u.current=!0}Boolean(a.isLiveShoppingVideo)&&b("LiveShoppingViewerFalcoEvent").log(function(){return{event:"click",product_item_id:p==null?void 0:p.id,ui_component:"product_feature_card",video_id:a.videoID}})},w=function(){if(q==null)return;var a={product_tag_id:q};b("CometMediaViewerPhotoActions").deleteProductTag({environment:j,input:a,onError:function(){return f(!1)}});f(!0)},x=r!=null?a.referralCode+n+r:a.referralCode;Boolean(a.isLiveShoppingVideo)&&(x="live_shopping_featured_product_on_video#"+String(a.videoID));if(p==null||p.id==null||((c=p.picture)==null?void 0:c.uri)==null||p.name==null||((c=p.formatted_price)==null?void 0:c.text)==null||((c=p.seller)==null?void 0:c.id)==null)return null;c=b("XCometCommerceProductItemControllerRouteBuilder").buildURL({listing_id:p.id,ref:a.surface,referral_code:x});x=(p==null?void 0:p.can_viewer_tag_product)===!0&&q!=null;return l.jsx("div",{className:(k||(k=b("stylex")))(o.rootContainer),ref:d,children:l.jsx(b("CometCard.react"),{background:"white",dropShadow:2,children:l.jsxs(b("CometLink.react"),{href:c,onClick:v,target:Boolean(a.isLiveShoppingVideo)?"_blank":"_self",xstyle:a.isProductHighlighted?o.imageLinkActive:null,children:[l.jsxs("div",{className:k(o.imageContainer),children:[l.jsx(b("CometImage.react"),{alt:g._("H\u00ecnh \u1ea3nh s\u1ea3n ph\u1ea9m"),height:m,src:(d=Boolean(a.isLiveShoppingVideo)?(d=p.primary_listing_photo)==null?void 0:(c=d.image)==null?void 0:c.uri:(v=p.picture)==null?void 0:v.uri)!=null?d:"",width:m,xstyle:o.image}),l.jsx("div",{className:k(o.crossButton),children:x?l.jsx(b("CometTooltip.react"),{position:"above",tooltip:g._("G\u1ee1 th\u1ebb s\u1ea3n ph\u1ea9m"),children:l.jsx(b("TetraCircleButton.react"),{disabled:e,icon:b("fbicon")._(h("478233"),20),label:g._("G\u1ee1 th\u1ebb s\u1ea3n ph\u1ea9m"),onPress:e?b("emptyFunction"):w,size:32,type:"dark-overlay"})}):null}),l.jsx("div",{className:k(o.inset)})]}),l.jsxs("div",{className:k(o.textContainer),children:[l.jsx("div",{className:k(o.nameContainer),children:l.jsx(b("TetraText.react"),{color:"primary",numberOfLines:2,type:"bodyLink4",children:p.name})}),l.jsx("div",{className:k(o.priceContainer),children:l.jsx(b("TetraText.react"),{color:"primary",numberOfLines:1,type:"body4",children:Boolean(p.is_profile_selling_post)?g._("Nh\u1eafn tin cho ng\u01b0\u1eddi b\u00e1n \u0111\u1ec3 h\u1ecfi gi\u00e1"):(c=p.formatted_price)==null?void 0:c.text})})]})]})})})}}),null);
__d("CometProductTagSeeAllCard.react",["fbt","CometCard.react","CometImage.react","CometLink.react","CometProductTagSeeAllCard_profile.graphql","CometRelay","TetraText.react","XCometPageShopsControllerRouteBuilder","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j,k=i||b("react"),l=120,m={image:{objectFit:"bixrwtb6"},imageContainer:{height:"pe468gzs",position:"l9j0dhe7",width:"pnicyljo"},imageLink:{display:"a8c37x1j",":hover":{textDecoration:"p8dawk7l"}},inset:{bottom:"i09qtzwb",boxShadow:"oaz4zybt",height:"ay7djpcl",position:"pmk7jnqg",width:"k4urcfbm"},rootContainer:{width:"pnicyljo"},textContainer:{height:"qu8okrzs",paddingTop:"l29c1vbm",paddingEnd:"d1544ag0",paddingBottom:"j7796vcc",paddingStart:"tw6a2znq"}};function a(a){var c,d=b("CometRelay").useFragment(h!==void 0?h:h=b("CometProductTagSeeAllCard_profile.graphql"),a.profile),e=(d==null?void 0:d.__typename)==="Page"?d==null?void 0:d.shop_storefront:!0,f=d==null?void 0:d.name;c=d==null?void 0:(c=d.profile_picture)==null?void 0:c.uri;d=(d==null?void 0:d.id)!=null?d==null?void 0:d.id:"";a=b("XCometPageShopsControllerRouteBuilder").buildURL({ref_code:a.referralCode,ref_surface:a.surface,vanity:d});return f==null||c==null||e==null?null:k.jsx("div",{className:(j||(j=b("stylex")))(m.rootContainer),children:k.jsx(b("CometCard.react"),{background:"white",dropShadow:2,children:k.jsxs(b("CometLink.react"),{href:a,xstyle:m.imageLink,children:[k.jsxs("div",{className:j(m.imageContainer),children:[k.jsx(b("CometImage.react"),{alt:g._("Logo Trang"),height:l,src:c,width:l,xstyle:m.image}),k.jsx("div",{className:j(m.inset)})]}),k.jsx("div",{className:j(m.textContainer),children:k.jsx(b("TetraText.react"),{color:"primary",numberOfLines:3,type:"bodyLink4",children:g._("Xem t\u1ea5t c\u1ea3 s\u1ea3n ph\u1ea9m tr\u00ean {page name}",[g._param("page name",f)])})})]})})})}}),null);
__d("CommerceViewProductTaggedPostFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743427");c=b("FalcoLoggerInternal").create("commerce_view_product_tagged_post",a);e.exports=c}),null);
__d("CometProductTagsListSection.react",["fbt","CometLegacyHScroll.react","CometLegacyHScrollChild.react","CometLinkAlertListItem.react","CometProductTagFunnelIDContext","CometProductTagListItem.react","CometProductTagSeeAllCard.react","CometProductTagsListSection_linkAlerts.graphql","CometProductTagsListSection_productMatches.graphql","CometProductTagsListSection_productTags.graphql","CometProductTagsListSection_profile.graphql","CometRelay","CommerceViewProductTaggedPostFalcoEvent","HoveredProductIDContext","react","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j,k,l,m=l||b("react"),n=4,o=2,p=120,q=140;function a(a){var c=b("CometRelay").useFragment(h!==void 0?h:h=b("CometProductTagsListSection_profile.graphql"),a.profile),d=b("CometRelay").useFragment(i!==void 0?i:i=b("CometProductTagsListSection_productTags.graphql"),a.tags),e=b("CometRelay").useFragment(j!==void 0?j:j=b("CometProductTagsListSection_productMatches.graphql"),a.productMatches),f=b("CometRelay").useFragment(k!==void 0?k:k=b("CometProductTagsListSection_linkAlerts.graphql"),a.alerts),l=m.useContext(b("CometProductTagFunnelIDContext")),r=m.useRef(!1),s=function(){if(r.current)return;b("CommerceViewProductTaggedPostFalcoEvent").log(function(){return{ad_id:a.adID,component:"CometProductTagsListSection",funnel_id:l,marketplace_surface:a.surface,post_id:a.postID,referral_code:a.referralCode}});r.current=!0};s=b("useVisibilityObserver")({onVisible:s});var t=m.useContext(b("HoveredProductIDContext")),u=[];if(d&&d.length>0){u=d.map(function(a){return a.product_item}).filter(Boolean);if(u.length!==d.length)return null}else e&&e.length>0&&(u=e.map(function(a){return(a=a.product_box)==null?void 0:(a=a.products[0])==null?void 0:a.product_item}).filter(Boolean));e=u.map(function(c,e){var f=t.hoveredProductID===c.id,g=d&&d[e].id;return c.id!=null?m.jsx(b("CometLegacyHScrollChild.react"),{width:p,children:m.jsx("div",{onMouseEnter:function(){return t.setHoveredProductID(c.id)},onMouseLeave:function(){return t.setHoveredProductID(null)},children:m.jsx(b("CometProductTagListItem.react"),{adID:a.adID,creationStoryDebugInfo:a.creationStoryDebugInfo,creationStorySerializedIDs:a.creationStorySerializedIDs,isLiveShoppingVideo:Boolean(a.isLiveShoppingVideo),isProductHighlighted:f,postID:a.postID,productItem:c,productTagId:g,referralCode:a.referralCode,surface:a.surface,videoID:a.videoID},c.id)},e)},e):null}).filter(Boolean);u=(f||[]).map(function(c,d){var e=t.hoveredProductID===c.id;return c!=null&&c.id!=null?m.jsx(b("CometLegacyHScrollChild.react"),{width:p,children:m.jsx("div",{onMouseEnter:function(){return t.setHoveredProductID(c.id)},onMouseLeave:function(){return t.setHoveredProductID(null)},children:m.jsx(b("CometLinkAlertListItem.react"),{isProductHighlighted:e,linkAlert:c,videoID:a.videoID})},d)},d):null}).filter(Boolean);f=e.concat(u);if(f==null||f.length===0)return null;c!=null&&f.push(m.jsx(b("CometLegacyHScrollChild.react"),{width:q,children:m.jsx(b("CometProductTagSeeAllCard.react"),{profile:c,referralCode:a.referralCode,surface:a.surface},"end")},"end"));return m.jsx("div",{ref:s,children:m.jsx(b("CometLegacyHScroll.react"),{accessibilityLabel:g._("S\u1ea3n ph\u1ea9m \u0111\u01b0\u1ee3c g\u1eafn th\u1ebb"),children:f,horizontalSnapPadding:10,horizontalSpacing:n,itemsToScroll:o,snapPosition:"center"})})}}),null);
__d("CometPhotoViewerSimilarProductsSection.react",["fbt","CometPhotoViewerSimilarProductsSection_photo.graphql","CometProductTagsListSection.react","CometRelay","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=i||b("react"),k="unconnected_commerce_product_match_on_photo_fullscreen_";function a(a){var c;a=b("CometRelay").useFragment(h!==void 0?h:h=b("CometPhotoViewerSimilarProductsSection_photo.graphql"),a.photo);var d=a.id;if(d==null)return null;var e=a.owner;if(e==null)return null;var f=a.product_matches;return f==null||f.length===0?null:j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"jwdofwj8 ihqw7lf3",children:j.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink2",children:g._("S\u1ea3n ph\u1ea9m t\u01b0\u01a1ng t\u1ef1 ({number of similar products})",[g._param("number of similar products",f.length)])})}),j.jsx("div",{className:"ihqw7lf3 q6bqt692 lwim6sy8",children:j.jsx(b("CometProductTagsListSection.react"),{adID:(c=a.creation_story)==null?void 0:(c=c.sponsored_data)==null?void 0:c.ad_id,creationStoryDebugInfo:(c=a.creation_story)==null?void 0:c.debug_info,creationStorySerializedIDs:(c=a.creation_story)==null?void 0:c.serialized_frtp_identifiers,postID:d,productMatches:f,profile:e,referralCode:k+d,surface:"photo_fullscreen"})})]})}}),null);
__d("ProductTagAiAcceptHighConfidenceSuggestionClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1772136");c=b("FalcoLoggerInternal").create("product_tag_ai_accept_high_confidence_suggestion_click",a);e.exports=c}),null);
__d("ProductTagPhotoEditorProductSuggestionHighConfidenceImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744218");c=b("FalcoLoggerInternal").create("product_tag_photo_editor_product_suggestion_high_confidence_impression",a);e.exports=c}),null);
__d("ProductTagPhotoEditorSuggestionRemoveProductClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744223");c=b("FalcoLoggerInternal").create("product_tag_photo_editor_suggestion_remove_product_click",a);e.exports=c}),null);
__d("CometPhotoViewerTaggedProductsSection.react",["fbt","CometAIProductTagSuggestionsUtil.react","CometMediaViewerPhotoActions","CometPhotoViewerTaggedProductsSection_photo.graphql","CometPhotoViewerViewStateContext","CometPhotoViewerViewStateDispatcherContext","CometProductTagHorizontalListItem.react","CometProductTagsListSection.react","CometRelay","ProductTagAiAcceptHighConfidenceSuggestionClickFalcoEvent","ProductTagPhotoEditorProductSuggestionHighConfidenceImpressionFalcoEvent","ProductTagPhotoEditorSuggestionRemoveProductClickFalcoEvent","ProductTaggingAiEvaluationFalcoEvent","TetraButton.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=i||b("react"),k="product_tag_on_photo_fullscreen_";function a(a){var c=j.useContext(b("CometPhotoViewerViewStateDispatcherContext")),d=j.useContext(b("CometPhotoViewerViewStateContext")),e=b("CometRelay").useRelayEnvironment(),f=b("CometRelay").useFragment(h!==void 0?h:h=b("CometPhotoViewerTaggedProductsSection_photo.graphql"),a.photo),i=f.id,l=f.owner,m=f.photo_product_tags;if(i==null||l==null||m==null)return null;var n=b("CometAIProductTagSuggestionsUtil.react").getUntaggedKnownTags(f,d.knownAITags);return j.jsxs(j.Fragment,{children:[m.length>0?j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"jwdofwj8 ihqw7lf3",children:j.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink2",children:a.isEditMode!==!0?g._("Mua s\u1eafm qua \u1ea3nh n\u00e0y ({number of products tagged in the photo})",[g._param("number of products tagged in the photo",m.length)]):g._("Th\u1ebb s\u1ea3n ph\u1ea9m ({number of products tagged in the photo})",[g._param("number of products tagged in the photo",m.length)])})}),j.jsx("div",{className:"ihqw7lf3 q6bqt692 lwim6sy8",children:j.jsx(b("CometProductTagsListSection.react"),{adID:(a=f.creation_story)==null?void 0:(a=a.sponsored_data)==null?void 0:a.ad_id,creationStoryDebugInfo:(a=f.creation_story)==null?void 0:a.debug_info,creationStorySerializedIDs:(a=f.creation_story)==null?void 0:a.serialized_frtp_identifiers,postID:i,profile:l,referralCode:k+i,surface:"photo_fullscreen",tags:m})})]}):null,m.filter(function(a){return!(a==null?void 0:(a=a.product_item)==null?void 0:a.is_viewer_seller)}).length===0&&d.isProductTagging&&n.length>0&&j.jsxs("div",{className:"bi6gxh9e",children:[j.jsx("div",{className:"bi6gxh9e",children:j.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink2",children:g._("Th\u1ebb s\u1ea3n ph\u1ea9m g\u1ee3i \u00fd ({number of ai suggested product tags in the photo})",[g._param("number of ai suggested product tags in the photo",n.length)])})}),n.map(function(a){var f;return j.jsx(b("CometProductTagHorizontalListItem.react"),{bottomComponent:j.jsx("div",{className:"aov4n071",children:j.jsx(b("TetraButton.react"),{"aria-label":"Accept",label:g._("Ch\u1ea5p nh\u1eadn g\u1ee3i \u00fd"),onPress:function(){var c;b("ProductTagAiAcceptHighConfidenceSuggestionClickFalcoEvent").log(function(){return{creator_id:l.id,entity_id:a.productID,entity_type:"product_item",media_id:i,media_type:"photo",platform:"comet",referral_source:"post_viewer",tag_type:"xy_tag"}});b("ProductTaggingAiEvaluationFalcoEvent").log(function(){var b;return{bounding_box:a.boundingBoxJSON,box_score:a.boxScore,category_id:null,center_x:a.x/100,center_y:a.y/100,confidence:"HIGH",page_id:(b=l.id)!=null?b:"",photo_id:i,platform:"comet",product_id:a.productID,product_score:a.productScore,referral_source:"post_viewer",user_action_type:"ACCEPTED"}});b("CometMediaViewerPhotoActions").addProductTags({environment:e,input:{post:i,product_item:(c=a.productID)!=null?c:"",product_tag_type:"AI_HIGH_CONFIDENCE",x:a.x,y:a.y}})},type:"secondary"})}),isHighlighted:d.highlightedKnownAITagID===a.productID,logImpression:function(){b("ProductTagPhotoEditorProductSuggestionHighConfidenceImpressionFalcoEvent").log(function(){return{creator_id:l==null?void 0:l.id,media_id:i,media_type:"photo",platform:"comet",referral_source:"post_viewer"}})},onDeletePressed:function(){var d;c({photoID:i,productID:(d=a.productID)!=null?d:"",type:"REMOVE_KNOWN_AI_TAG"});b("ProductTagPhotoEditorSuggestionRemoveProductClickFalcoEvent").log(function(){return{creator_id:l==null?void 0:l.id,media_id:i,media_type:"photo",platform:"comet",referral_source:"post_viewer"}});b("ProductTaggingAiEvaluationFalcoEvent").log(function(){var b;return{bounding_box:a.boundingBoxJSON,box_score:a.boxScore,category_id:null,center_x:a.x/100,center_y:a.y/100,confidence:"HIGH",page_id:(b=l.id)!=null?b:"",photo_id:i,platform:"comet",product_id:a.productID,product_score:a.productScore,referral_source:"post_viewer",user_action_type:"REJECTED"}})},onHover:function(b){a.productID!=null&&c({hovering:b,id:a.productID,type:"SET_HOVER_FOR_KNOWN_TAG"})},productID:(f=a.productID)!=null?f:"",productImageURI:(f=a.taggee.image_uri)!=null?f:"",productName:(f=a.taggee.name)!=null?f:"",productPrice:(f=a.taggee.product_price)!=null?f:""},(f=a.productID)!=null?f:"")})]})]})}}),null);
__d("CometFeedStoryImmersiveMediaMouseOverlay.react",["react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react");function a(a){var c=a.descriptionFbt,d=a.isActive;a=a.showClick;return i.jsxs("div",{className:(h||(h=b("stylex"))).dedupe({"bottom-1":"d2iitwg3","opacity-1":"pedkr2u6","pointer-events-1":"hzruof5a","position-1":"pmk7jnqg","start-1":"kfkz5moi","transform-0.1":"tvo4c8rq"},d?null:{"opacity-1":"b5wmifdl"}),children:[i.jsx("div",{className:"ov9facns kfkz5moi pmk7jnqg qx04eu75 k7cz35w2 hioi5xb0 awevd9ak ee40wjg4 r7fvqmod",children:i.jsx("div",{className:"sk3xx2xc ee40wjg4 r7fvqmod",children:i.jsxs("div",{className:"kz4qo9ow ee40wjg4 r7fvqmod",children:[i.jsx("div",{className:"pgctjfs5 affysrvo pmk7jnqg tv7at329 omcyoz59 ed597pkb kb8x4rkr qw6c0r16 kaqsd373"}),i.jsxs("div",{className:"ov9facns dimoa7g4 pmk7jnqg stjgntxs ni8dbmo4 fz6q6hdd mrjvor2e jinzq4gt jos75b7i t0qjyqq4",children:[i.jsx("div",{className:a?"c9rrlmt1 pmk7jnqg ooasylqa q2y6ezfg j3og7z1a ee40wjg4 r7fvqmod":"c9rrlmt1 pmk7jnqg ooasylqa q2y6ezfg"}),i.jsx("div",{className:"c0wkt4kp oz4tkbee pmk7jnqg ooasylqa q2y6ezfg"})]}),i.jsx("div",{className:"ov9facns pmk7jnqg oeo4gz9l kv0toi1t j6sty90h h905i5nu monazrh9 q2y6ezfg"})]})})}),i.jsx("div",{className:"g0qnabr5 jb1g5q76 oqcyycmt dwxx2s2f dicw6rsg kady6ibp rs0gx3tq n3ffmt46 sq6gx45u ljqsnud1",children:c})]})}}),null);
__d("Comet360GyroOverlay.react",["fbt","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){a=a.isVisible;return i.jsx("div",{className:"orwu60u2 e4zzj2sf art1omkt jowmb856 py2didcb rk01pc8j kfkz5moi pmk7jnqg hzruof5a rdkrh8wx"+(a?"":" b5wmifdl"),children:i.jsxs("div",{className:"orwu60u2 l9j0dhe7 rdkrh8wx spb7xbtv bkmhp75w emlxlaya s45kfl79 ora8z2hr",children:[i.jsxs("div",{className:"ljni7pan tftn3vyl tmxdrx1h sgaxgfmg pmk7jnqg cb02d2ww k0bpgpbk tpcyxxvw qtyiw8t4 qxh1up0x mk2mc5f4 s44p3ltw ccm00jje goun2846 spb7xbtv bkmhp75w emlxlaya s45kfl79 lnmqs56w a5q45dxh rn9xp8wz pby8v4dq dn16736b ee40wjg4 r7fvqmod oeefd0zo",children:[i.jsx("div",{className:"dt25yw6b cj5g2342 kfkz5moi pmk7jnqg j0lfo8lj jcgfde61 afxsp9o4 ed0hlay0 frvqaej8 mk2mc5f4 s44p3ltw ccm00jje goun2846 spb7xbtv bkmhp75w emlxlaya s45kfl79 lnmqs56w a5q45dxh rn9xp8wz pby8v4dq a5zjgiyk ob8axjtb ee40wjg4 r7fvqmod oeefd0zo"}),i.jsx("div",{className:"kzys8otq ke6wolob rk01pc8j pmk7jnqg derph8ux jcgfde61 afxsp9o4 ed0hlay0 frvqaej8 mk2mc5f4 s44p3ltw ccm00jje goun2846 spb7xbtv bkmhp75w emlxlaya s45kfl79 lnmqs56w a5q45dxh rn9xp8wz pby8v4dq nc12k21y cuyhpc0r ee40wjg4 r7fvqmod oeefd0zo"})]}),i.jsx("div",{className:"dt25yw6b g0qnabr5 cj5g2342 ginu6rux kfkz5moi pmk7jnqg stjgntxs ni8dbmo4 cb02d2ww spb7xbtv bkmhp75w emlxlaya s45kfl79 a5zjgiyk pm1owuca ee40wjg4 r7fvqmod oeefd0zo",children:i.jsx("span",{className:"dt25yw6b cj5g2342 oqcyycmt kfkz5moi pmk7jnqg b0hsfc2p cb02d2ww gfeo3gy3 ljqsnud1",children:g._("360")})})]})})}}),null);
__d("Comet360PhotoRenderer",[],(function(a,b,c,d,e,f){"use strict"}),null);
__d("CometWebGLCubemapTexture",["recoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=a.createTexture(),this.initializeTexture()}var c=a.prototype;c.initializeTexture=function(){var a=this.$1;a.bindTexture(a.TEXTURE_CUBE_MAP,this.$2);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_LINEAR);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);var b=new Uint8Array([0,0,0,0]);a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_X,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_Y,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_Z,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.bindTexture(a.TEXTURE_CUBE_MAP,null)};c.setFace=function(a,c){var d=this.$1,e=0;switch(a){case 0:e=d.TEXTURE_CUBE_MAP_POSITIVE_X;break;case 1:e=d.TEXTURE_CUBE_MAP_NEGATIVE_Z;break;case 2:e=d.TEXTURE_CUBE_MAP_NEGATIVE_X;break;case 3:e=d.TEXTURE_CUBE_MAP_POSITIVE_Z;break;case 4:e=d.TEXTURE_CUBE_MAP_POSITIVE_Y;break;case 5:e=d.TEXTURE_CUBE_MAP_NEGATIVE_Y;break;default:b("recoverableViolation")("Cubemap face out of bounds","webgl");return}e!==0&&(d.bindTexture(d.TEXTURE_CUBE_MAP,this.$2),d.texImage2D(e,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,c),d.bindTexture(d.TEXTURE_CUBE_MAP,null))};c.generateMipmap=function(){var a=this.$1;a.bindTexture(a.TEXTURE_CUBE_MAP,this.$2);a.generateMipmap(a.TEXTURE_CUBE_MAP);a.bindTexture(a.TEXTURE_CUBE_MAP,null)};c.bindToSlot=function(a){var b=this.$1;b.activeTexture(b.TEXTURE0+a);b.bindTexture(b.TEXTURE_CUBE_MAP,this.$2)};c.release=function(){this.$1.deleteTexture(this.$2)};return a}();e.exports=a}),null);
__d("CometWebGLIndexBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=a,this.$1=a.createBuffer()}var b=a.prototype;b.bufferData=function(a){var b=this.$2;b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.$1);b.bufferData(b.ELEMENT_ARRAY_BUFFER,a,b.STATIC_DRAW)};b.bindToElements=function(){var a=this.$2;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.$1)};return a}();e.exports=a}),null);
__d("CometWebGLVertexBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=a,this.$1=a.createBuffer()}var b=a.prototype;b.bufferData=function(a){var b=this.$2;b.bindBuffer(b.ARRAY_BUFFER,this.$1);b.bufferData(b.ARRAY_BUFFER,a,b.STATIC_DRAW)};b.bindToAttribute=function(a,b,c,d,e,f){var g=this.$2;g.bindBuffer(g.ARRAY_BUFFER,this.$1);g.vertexAttribPointer(a,b,c,d,e,f);g.enableVertexAttribArray(a)};return a}();e.exports=a}),null);
__d("getWebGLAttributeSizeAndType",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){b=b?WebGLRenderingContext.UNSIGNED_BYTE:WebGLRenderingContext.FLOAT;switch(a.type){case WebGLRenderingContext.FLOAT:return{size:1,type:b};case WebGLRenderingContext.FLOAT_VEC2:return{size:2,type:b};case WebGLRenderingContext.FLOAT_VEC3:return{size:3,type:b};case WebGLRenderingContext.FLOAT_VEC4:return{size:4,type:b};case WebGLRenderingContext.FLOAT_MAT2:return{size:4,type:b};case WebGLRenderingContext.FLOAT_MAT3:return{size:9,type:b};case WebGLRenderingContext.FLOAT_MAT4:return{size:16,type:b}}return{size:1,type:b}}}),null);
__d("CometWebGLGeometry",["CometWebGLIndexBuffer","CometWebGLVertexBuffer","getWebGLAttributeSizeAndType","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a){switch(a){case WebGLRenderingContext.BYTE:case WebGLRenderingContext.UNSIGNED_BYTE:return 1;case WebGLRenderingContext.SHORT:case WebGLRenderingContext.UNSIGNED_SHORT:return 2;case WebGLRenderingContext.FLOAT:return 4}b("recoverableViolation")("Unrecognized vertex type: "+a,"webgl");return 1}a=function(){function a(a,c){c===void 0&&(c={interleaved:!0}),this.$1=[],this.$2=new(b("CometWebGLVertexBuffer"))(a),this.$3=null,this.$4=0,this.$6=null,this.$7=null,this.$8=0,this.$9=c.interleaved!==!1,this.$5=a,this.$10=0}var c=a.prototype;c.addAttribute=function(a,c){c===void 0&&(c={normalize:!1});if(!this.$9&&c.offset==null)throw b("unrecoverableViolation")("Vertex Buffer is not interleaved but attribute was added without an offset","immersive_media");var d=!!c.normalize,e=b("getWebGLAttributeSizeAndType")(a,d),f=e.size;e=e.type;var h=g(e);this.$1.push({loc:a.location,normalize:d,offset:c.offset!=null?c.offset:this.$10,size:f,stride:c.stride!=null?c.stride:h*f,type:e});this.$10+=h*f};c.bufferData=function(a){if(a instanceof ArrayBuffer){this.$2.bufferData(a);this.$4=a.byteLength;return}if(this.$3&&a.length<=this.$3.length){for(var b=0;b<a.length;b++)this.$3[b]=a[b];for(var b=a.length;b<this.$3.length;b++)this.$3[b]=0}else this.$3=new Float32Array(a);this.$4=a.length*4;this.$2.bufferData(this.$3.buffer)};c.bufferIndex=function(a){if(this.$7&&a.length<this.$7.length){for(var c=0;c<a.length;c++)this.$7[c]=a[c];for(var c=a.length;c<this.$7.length;c++)this.$7[c]=0}else this.$7=new Uint16Array(a);this.$8=a.length;this.$6||(this.$6=new(b("CometWebGLIndexBuffer"))(this.$5));this.$6.bufferData(this.$7)};c.bindToAttributes=function(){for(var a=0;a<this.$1.length;a++){var b=this.$1[a];this.$2.bindToAttribute(b.loc,b.size,b.type,!!b.normalize,this.$9?this.$10:b.stride,b.offset)}this.$6&&this.$6.bindToElements()};c.draw=function(){if(this.$9&&this.$4%this.$10!==0){b("recoverableViolation")("Geometry buffer length is not perfectly divisible by stride","webgl");return}var a=this.$5;if(this.$7)a.drawElements(a.TRIANGLES,this.$8,a.UNSIGNED_SHORT,0);else{var c=this.$4/this.$10;a.drawArrays(a.TRIANGLES,0,c)}};return a}();e.exports=a}),null);
__d("CometWebGLTexture",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){var c;b===void 0&&(b=Object.freeze({}));this.$1=a;this.$5=a.createTexture();this.$2=(c=b.generateMipmaps)!=null?c:!1;a.bindTexture(a.TEXTURE_2D,this.$5);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);this.$6=(c=b.width)!=null?c:0;this.$3=(c=b.height)!=null?c:0;if("source"in b){c=b.source;c==null?a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.$6,this.$3,0,a.RGBA,a.UNSIGNED_BYTE,c):this.setSource(c)}else a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,new Uint8Array([0,0,0,0]))}var b=a.prototype;b.getGLTexture=function(){return this.$5};b.setSource=function(a,b){b===void 0&&(b=!1);this.$4=a;var c=this.$1;c.bindTexture(c.TEXTURE_2D,this.$5);a instanceof Image&&(c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,b?1:0),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,a),this.$6=a.naturalWidth,this.$3=a.naturalHeight);this.$2&&(c.generateMipmap(c.TEXTURE_2D),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR));c.bindTexture(c.TEXTURE_2D,null)};b.bindToSlot=function(a){var b=this.$1;b.activeTexture(b.TEXTURE0+a);b.bindTexture(b.TEXTURE_2D,this.$5)};return a}();e.exports=a}),null);
__d("CometWebGLMesh",["CometWebGLCubemapTexture","CometWebGLGeometry","CometWebGLTexture","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d){d===void 0&&(d={interleaved:!0}),this.$1=a,this.geometry=new(b("CometWebGLGeometry"))(a,{interleaved:d.interleaved!==!1}),this.program=c,this.renderOrder=1,this.uniforms={},this.visible=!0}var c=a.prototype;c.addAttribute=function(a,b){a=this.program.getAttribute(a);if(a==null)return this;this.geometry.addAttribute(a,b);return this};c.setUniform=function(a,b){this.uniforms[a]=b};c.getUniform=function(a){return this.uniforms[a]};c.unsetUniform=function(a){delete this.uniforms[a]};c.bufferData=function(a){this.geometry.bufferData(a)};c.bufferIndex=function(a){this.geometry.bufferIndex(a)};c.setVisible=function(a){this.visible=a};c.draw=function(){if(!this.visible)return;var a=0,c=this.program,d=c.getUniforms();for(var e in d){d=null;e in this.uniforms?d=this.uniforms[e]:d=c.getDefaultValueForUniform(e);var f=c.getUniform(e);if(f==null)throw b("unrecoverableViolation")("Specified uniform does not exist in program: "+e,"immersive_media");typeof d==="number"?f.set(d):Array.isArray(d)||d instanceof Float32Array?f.set(d):(d instanceof b("CometWebGLTexture")||d instanceof b("CometWebGLCubemapTexture"))&&(d.bindToSlot(a),f.set(a),a++)}this.geometry.bindToAttributes();this.geometry.draw()};return a}();e.exports=a}),null);
__d("defaultValueForWebGLUniform",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){switch(a){case WebGLRenderingContext.FLOAT:return 0;case WebGLRenderingContext.FLOAT_VEC2:return[0,0];case WebGLRenderingContext.FLOAT_VEC3:return[0,0,0];case WebGLRenderingContext.FLOAT_VEC4:return[0,0,0,0];case WebGLRenderingContext.INT:return 0;case WebGLRenderingContext.INT_VEC2:return[0,0];case WebGLRenderingContext.INT_VEC3:return[0,0,0];case WebGLRenderingContext.INT_VEC4:return[0,0,0,0];case WebGLRenderingContext.FLOAT_MAT2:return[0,0,0,0];case WebGLRenderingContext.FLOAT_MAT3:return[0,0,0,0,0,0,0,0,0];case WebGLRenderingContext.FLOAT_MAT4:return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];case WebGLRenderingContext.SAMPLER_2D:return null;default:return null}}}),null);
__d("extractAttributesFromWebGLProgram",["recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){var d={},e=a.getProgramParameter(c,a.ACTIVE_ATTRIBUTES);for(var f=0;f<e;f++){var g=a.getActiveAttrib(c,f);if(!g){b("recoverableViolation")("Attempted to retrieve an attribute that did not exist","webgl");continue}var h=a.getAttribLocation(c,g.name);d[g.name]={location:h,size:g.size,type:g.type}}return d}}),null);
__d("createWebGLUniformSetter",["recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){switch(d){case a.FLOAT:return a.uniform1f.bind(a,c);case a.FLOAT_VEC2:return a.uniform2fv.bind(a,c);case a.FLOAT_VEC3:return a.uniform3fv.bind(a,c);case a.FLOAT_VEC4:return a.uniform4fv.bind(a,c);case a.INT:return a.uniform1i.bind(a,c);case a.INT_VEC2:return a.uniform2iv.bind(a,c);case a.INT_VEC3:return a.uniform3iv.bind(a,c);case a.INT_VEC4:return a.uniform4iv.bind(a,c);case a.FLOAT_MAT2:return a.uniformMatrix2fv.bind(a,c,!1);case a.FLOAT_MAT3:return a.uniformMatrix3fv.bind(a,c,!1);case a.FLOAT_MAT4:return a.uniformMatrix4fv.bind(a,c,!1);case a.SAMPLER_2D:return a.uniform1i.bind(a,c);case a.SAMPLER_CUBE:return a.uniform1i.bind(a,c);default:return function(){b("recoverableViolation")("This uniform type is not supported: "+d,"webgl")}}}}),null);
__d("extractUniformsFromWebGLProgram",["createWebGLUniformSetter","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){var d={},e=a.getProgramParameter(c,a.ACTIVE_UNIFORMS);for(var f=0;f<e;f++){var g=a.getActiveUniform(c,f);if(!g){b("recoverableViolation")("Attempted to retrieve a uniform that did not exist","webgl");continue}var h=a.getUniformLocation(c,g.name);d[g.name]={location:h,set:b("createWebGLUniformSetter")(a,h,g.type),size:g.size,type:g.type}}return d}}),null);
__d("CometWebGLProgram",["defaultValueForWebGLUniform","extractAttributesFromWebGLProgram","extractUniformsFromWebGLProgram","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1={},this.$3=null,this.$4=[],this.$5={},this.$6={},this.$2=a}var c=a.prototype;c.addShader=function(a,c,d){if(this.$3){b("recoverableViolation")("Cannot add a shader, the program has already been compiled","webgl");return this}var e=a;if(d){d=d.map(function(a){return"#define "+a+"\n"}).join("");if(a.startsWith("#version")){var f=a.indexOf("\n")+1;e=a.substr(0,f)+d+a.substr(f)}else e=d+a}this.$4.push({code:e,type:c});return this};c.compile=function(){if(this.$3){b("recoverableViolation")("Cannot compile, the program has already been compiled","webgl");return this}var a=this.$2,c=this.$4.map(function(c){var d=c.code;c=c.type;c=a.createShader(c);a.shaderSource(c,d);a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS)){d=a.getShaderInfoLog(c)||"";a.deleteShader(c);b("recoverableViolation")("Failed to compile shader: "+d,"webgl")}return c}),d=a.createProgram();for(var c=c,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;a.attachShader(d,g)}a.linkProgram(d);if(!a.getProgramParameter(d,a.LINK_STATUS)){g=a.getProgramInfoLog(d)||"";a.deleteProgram(d);b("recoverableViolation")("Failed to link program: "+g,"webgl");return this}this.$3=d;this.$6=b("extractUniformsFromWebGLProgram")(a,d);this.$1=b("extractAttributesFromWebGLProgram")(a,d);return this};c.use=function(){if(!this.$3){b("recoverableViolation")("Cannot use Program before it has been compiled","webgl");return}this.$2.useProgram(this.$3)};c.getUniform=function(a){var c=this.$6[a];if(!c){b("recoverableViolation")("Program does not have a uniform called "+a,"webgl");return null}return c};c.getUniforms=function(){return this.$6};c.getAttribute=function(a){var c=this.$1[a];if(!c){b("recoverableViolation")("Program does not have an attribute called "+a,"webgl");return null}return c};c.setUniformDefaults=function(a){for(var b in a)this.$5[b]=a[b];return this};c.getDefaultValueForUniform=function(a){if(!(a in this.$6)){b("recoverableViolation")("Program does not have a uniform called "+a,"webgl");return null}if(a in this.$5){var c=this.$5[a];return Array.isArray(c)?c.slice():c}return b("defaultValueForWebGLUniform")(this.$6[a].type)};return a}();e.exports=a}),null);
__d("createWebGLEquirectSphericalPhotoProgram",["CometWebGLProgram"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g="\nattribute vec3 a_position;\nattribute vec2 a_textureCoord;\n\nvarying highp vec2 v_textureCoord;\n\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\n\nvoid main() {\n    gl_Position = projectionMatrix * viewMatrix * vec4(a_position, 1);\n    v_textureCoord = a_textureCoord;\n}\n",h="\nvarying highp vec2 v_textureCoord;\n\nuniform sampler2D u_sampler;\n\nvoid main() {\n    gl_FragColor = texture2D(u_sampler, v_textureCoord);\n}\n";function a(a){var c=new(b("CometWebGLProgram"))(a);return c.addShader(g,a.VERTEX_SHADER).addShader(h,a.FRAGMENT_SHADER).compile()}}),null);
__d("CometWebGLCylindricalMesh",["CometWebGLMesh","CometWebGLTexture","createWebGLEquirectSphericalPhotoProgram"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d){var e=this;this.hasLoadedTextureSource=function(){return e.$4};this.$5=c;this.$6=d;c=30;d=30;this.$1=a;this.$2=new(b("CometWebGLMesh"))(a,b("createWebGLEquirectSphericalPhotoProgram")(a));this.$4=!1;this.$3=new(b("CometWebGLTexture"))(a);this.$2.addAttribute("a_position");this.$2.addAttribute("a_textureCoord");a=this.$7(c,d);this.$2.bufferData(a);a=this.$8(c,d);this.$2.bufferIndex(a)}var c=a.prototype;c.draw=function(a,b){this.$2.setUniform("viewMatrix",a),this.$2.setUniform("projectionMatrix",b),this.$2.setUniform("u_sampler",this.$3),this.$2.program.use(),this.$2.draw()};c.$7=function(a,b){var c=2,d=[],e=this.$6/Math.PI,f=this.$5/(2*Math.PI),g=(1-e)/2,h=(1-f)/2;for(var i=0;i<=a;i++){var j=g+i/a*e;j=j*Math.PI;for(var k=0;k<=b;k++){var l=h+k/b*f;l=l*2*Math.PI;var m=Math.sin(l);l=Math.cos(l);m=-m;var n=this.$9(j);l=l;d.push(c*m);d.push(c*n);d.push(c*l);m=k/b;n=i/a;d.push(m);d.push(n)}}return d};c.$8=function(a,b){var c=[];for(var d=0;d<a;d++)for(var e=0;e<b;e++){var f=d*(b+1)+e,g=f+b+1;c.push(f);c.push(g);c.push(f+1);c.push(g);c.push(g+1);c.push(f+1)}return c};c.loadTexture=function(a){this.$3.setSource(a),this.$4=!0};c.$9=function(a){return a<Math.PI/2?Math.tan(Math.PI/2-a):-Math.tan(a-Math.PI/2)};return a}();e.exports=a}),null);
__d("Comet360PhotoCylindricalRenderer",["CometWebGLCylindricalMesh","Promise","promiseDone"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e,f,g){var h=this;this.$1=a;this.$2=c;this.$3=d;this.$5=e;this.$6=f;this.$7=g;this.$4=new(b("CometWebGLCylindricalMesh"))(a,this.$6,this.$7);b("promiseDone")(this.$2.fetchTextureImage().then(function(a){h.$4.loadTexture(a),h.$5(function(){h.draw()})}))}var c=a.prototype;c.initialize=function(){return new(b("Promise"))(function(a,b){a()})};c.draw=function(){if(!this.$4.hasLoadedTextureSource)return;var a=this.$1;a.clear(a.COLOR_BUFFER_BIT);this.$4.draw(this.$3.getViewMatrix(),this.$3.getProjectionMatrix())};return a}();e.exports=a}),null);
__d("CometWebGLSphericalMesh",["CometWebGLMesh","CometWebGLTexture","createWebGLEquirectSphericalPhotoProgram"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var c=this;this.hasLoadedTextureSource=function(){return c.$4};var d=30,e=30;this.$1=a;this.$2=new(b("CometWebGLMesh"))(a,b("createWebGLEquirectSphericalPhotoProgram")(a));this.$4=!1;this.$3=new(b("CometWebGLTexture"))(a);this.$2.addAttribute("a_position");this.$2.addAttribute("a_textureCoord");a=this.$5(d,e);this.$2.bufferData(a);a=this.$6(d,e);this.$2.bufferIndex(a)}var c=a.prototype;c.draw=function(a,b){this.$2.setUniform("viewMatrix",a),this.$2.setUniform("projectionMatrix",b),this.$2.setUniform("u_sampler",this.$3),this.$2.program.use(),this.$2.draw()};c.$5=function(a,b){var c=2,d=[],e=600,f=300,g=600,h=300,i=0/h,j=0/g;f=f/h;h=e/g;for(var e=0;e<=a;e++){g=i+e/a*f;g=(.5-g)*Math.PI;var k=Math.sin(g);g=Math.cos(g);for(var l=0;l<=b;l++){var m=j+l/b*h;m=(m-.75)*2*Math.PI;var n=Math.sin(m);m=Math.cos(m);m=m*g;var o=k;n=n*g;d.push(c*m);d.push(c*o);d.push(c*n);m=l/b;o=e/a;d.push(m);d.push(o)}}return d};c.$6=function(a,b){var c=[];for(var d=0;d<a;d++)for(var e=0;e<b;e++){var f=d*(b+1)+e,g=f+b+1;c.push(f);c.push(g);c.push(f+1);c.push(g);c.push(g+1);c.push(f+1)}return c};c.loadTexture=function(a){this.$3.setSource(a),this.$4=!0};return a}();e.exports=a}),null);
__d("Comet360PhotoSphericalRenderer",["CometWebGLSphericalMesh","Promise","promiseDone"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e){var f=this;this.$1=a;this.$2=c;this.$3=d;this.$5=e;this.$4=new(b("CometWebGLSphericalMesh"))(a);b("promiseDone")(this.$2.fetchTextureImage().then(function(a){f.$4.loadTexture(a),f.$5(function(){f.draw()})}))}var c=a.prototype;c.initialize=function(){return new(b("Promise"))(function(a,b){a()})};c.draw=function(){if(!this.$4.hasLoadedTextureSource)return;var a=this.$1;a.clear(a.COLOR_BUFFER_BIT);this.$4.draw(this.$3.getViewMatrix(),this.$3.getProjectionMatrix())};return a}();e.exports=a}),null);
__d("Comet360PhotoTiledCubemapTile",[],(function(a,b,c,d,e,f){"use strict";f.hashCubemapTileInfo=a;function a(a){return"Level: "+a.level+"|Face: "+a.face+"|Col: "+a.col+"|Row: "+a.row}}),null);
__d("Comet360PhotoTiledCubemapTextureCache",["Comet360PhotoTiledCubemapTile","CometWebGLTexture","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=new Map()}var c=a.prototype;c.hasTexture=function(a){a=b("Comet360PhotoTiledCubemapTile").hashCubemapTileInfo(a);return this.$2.has(a)};c.getBestTileTexture=function(a){var c=a.level,d=a.col,e=a.row;while(c>=0){var f={col:d,face:a.face,level:c,row:e},g=b("Comet360PhotoTiledCubemapTile").hashCubemapTileInfo(f);g=this.$2.get(g);if(g!=null)return[g,f];c-=1;d=Math.floor(d/2);e=Math.floor(e/2)}throw b("unrecoverableViolation")('Unable to find a best texture for: "'+b("Comet360PhotoTiledCubemapTile").hashCubemapTileInfo(a)+'".',"immersive_media")};c.loadTexture=function(a,c){var d=null;c&&(d=new(b("CometWebGLTexture"))(this.$1,{generateMipmaps:!0}),d.setSource(c,!0));this.$2.set(b("Comet360PhotoTiledCubemapTile").hashCubemapTileInfo(a),d)};return a}();e.exports=a}),null);
__d("Matrices",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a=Math.tan(a/2)*c;var e=-a,f=a*b;b=e*b;return[2*c/(f-b),0,0,0,0,2*c/(a-e),0,0,(f+b)/(f-b),(a+e)/(a-e),(c+d)/(c-d),-1,0,0,c*d*2/(c-d),0]}function g(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function b(a,b,c){return[a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1]}function c(a){var b=a[0],c=a[1],d=a[2];a=a[3];var e=2/Math.sqrt(b*b+c*c+d*d+a*a);return[1-e*(c*c+d*d),e*(b*c+d*a),e*(b*d-c*a),0,e*(b*c-d*a),1-e*(b*b+d*d),e*(c*d+b*a),0,e*(b*d+c*a),e*(c*d-b*a),1-e*(b*b+c*c),0,0,0,0,1]}function d(a){return h(a[0],a[1],a[2])}function h(a,b,c){return[1,0,0,0,0,1,0,0,0,0,1,0,a,b,c,1]}function f(a){var b=a[0]*a[5]-a[1]*a[4],c=a[0]*a[6]-a[2]*a[4],d=a[0]*a[7]-a[3]*a[4],e=a[1]*a[6]-a[2]*a[5],f=a[1]*a[7]-a[3]*a[5],g=a[2]*a[7]-a[3]*a[6],h=a[8]*a[13]-a[9]*a[12],i=a[8]*a[14]-a[10]*a[12],j=a[8]*a[15]-a[11]*a[12],k=a[9]*a[14]-a[10]*a[13],l=a[9]*a[15]-a[11]*a[13],m=a[10]*a[15]-a[11]*a[14],n=b*m-c*l+d*k+e*j-f*i+g*h,o=(a[5]*m-a[6]*l+a[7]*k)/n,p=(a[2]*l-a[1]*m-a[3]*k)/n,q=(a[13]*g-a[14]*f+a[15]*e)/n,r=(a[10]*f-a[9]*g-a[11]*e)/n,s=(a[6]*j-a[4]*m-a[7]*i)/n;m=(a[0]*m-a[2]*j+a[3]*i)/n;var t=(a[14]*d-a[12]*g-a[15]*c)/n;g=(a[8]*g-a[10]*d+a[11]*c)/n;var u=(a[4]*l-a[5]*j+a[7]*h)/n;j=(a[1]*j-a[0]*l-a[3]*h)/n;l=(a[12]*f-a[13]*d+a[15]*b)/n;d=(a[9]*d-a[8]*f-a[11]*b)/n;f=(a[5]*i-a[4]*k-a[6]*h)/n;k=(a[0]*k-a[1]*i+a[2]*h)/n;i=(a[13]*c-a[12]*e-a[14]*b)/n;h=(a[8]*e-a[9]*c+a[10]*b)/n;return[o,p,q,r,s,m,t,g,u,j,l,d,f,k,i,h]}function i(a,b){var c=g();c[0]=a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12];c[1]=a[0]*b[1]+a[1]*b[5]+a[2]*b[9]+a[3]*b[13];c[2]=a[0]*b[2]+a[1]*b[6]+a[2]*b[10]+a[3]*b[14];c[3]=a[0]*b[3]+a[1]*b[7]+a[2]*b[11]+a[3]*b[15];c[4]=a[4]*b[0]+a[5]*b[4]+a[6]*b[8]+a[7]*b[12];c[5]=a[4]*b[1]+a[5]*b[5]+a[6]*b[9]+a[7]*b[13];c[6]=a[4]*b[2]+a[5]*b[6]+a[6]*b[10]+a[7]*b[14];c[7]=a[4]*b[3]+a[5]*b[7]+a[6]*b[11]+a[7]*b[15];c[8]=a[8]*b[0]+a[9]*b[4]+a[10]*b[8]+a[11]*b[12];c[9]=a[8]*b[1]+a[9]*b[5]+a[10]*b[9]+a[11]*b[13];c[10]=a[8]*b[2]+a[9]*b[6]+a[10]*b[10]+a[11]*b[14];c[11]=a[8]*b[3]+a[9]*b[7]+a[10]*b[11]+a[11]*b[15];c[12]=a[12]*b[0]+a[13]*b[4]+a[14]*b[8]+a[15]*b[12];c[13]=a[12]*b[1]+a[13]*b[5]+a[14]*b[9]+a[15]*b[13];c[14]=a[12]*b[2]+a[13]*b[6]+a[14]*b[10]+a[15]*b[14];c[15]=a[12]*b[3]+a[13]*b[7]+a[14]*b[11]+a[15]*b[15];return c}function j(a,b){var c=[0,0,0,0];c[0]=a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12];c[1]=a[0]*b[1]+a[1]*b[5]+a[2]*b[9]+a[3]*b[13];c[2]=a[0]*b[2]+a[1]*b[6]+a[2]*b[10]+a[3]*b[14];c[3]=a[0]*b[3]+a[1]*b[7]+a[2]*b[11]+a[3]*b[15];return c}function k(a){return[a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]]}a={createIdentityMat4:g,createPerspectiveProjectionMatrix:a,createRotationMatrixFromQuaternion:c,createScalingMatrix:b,createTranslationMatrix:h,createTranslationMatrixFromVec:d,invertMat4:f,multiplyMat4:i,multiplyVec4:j,transposeMatrix:k};e.exports=a}),null);
__d("Quaternions",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=[0,0,0,1],d=Math.sin(b/2);c[0]=a[0]*d;c[1]=a[1]*d;c[2]=a[2]*d;c[3]=Math.cos(b/2);return c}function b(a,b,c){var d=[0,0,0,1],e=Math.cos(a/2),f=Math.cos(c/2),g=Math.cos(b/2);a=Math.sin(a/2);c=Math.sin(c/2);b=Math.sin(b/2);d[0]=a*f*g-e*c*b;d[1]=e*f*b+a*c*g;d[2]=e*c*g-a*e*b;d[3]=e*f*g+a*c*b;return d}function c(a){var b=Math.atan2(2*(a[3]*a[0]+a[1]*a[2]),1-2*(a[0]*a[0]+a[1]*a[1])),c=Math.asin(2*(a[3]*a[1]-a[2]*a[0]));a=Math.atan2(2*(a[3]*a[2]+a[0]*a[1]),1-2*(a[1]*a[1]+a[2]*a[2]));return[b,c,a]}function d(a,b){var c=[0,0,0,1];c[0]=b[3]*a[0]+b[0]*a[3]+b[1]*a[2]-b[2]*a[1];c[1]=b[3]*a[1]-b[0]*a[2]+b[1]*a[3]+b[2]*a[0];c[2]=b[3]*a[2]+b[0]*a[1]-b[1]*a[0]+b[2]*a[3];c[3]=b[3]*a[3]-b[0]*a[0]-b[1]*a[1]-b[2]*a[2];return c}f={multiply:d,quaternionFromAxisAngle:a,quaternionFromTaitBryan:b,taitBryanFromQuaternion:c};e.exports=f}),null);
__d("createWebGLTiledCubemapTileProgram",["CometWebGLProgram"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g="\nattribute vec3 a_position;\nattribute vec3 a_color;\nattribute vec2 a_texcoord;\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform vec2 u_uvOffset;\nuniform float u_uvScale;\nuniform vec2 u_uvOffsetBackground;\nuniform float u_uvScaleBackground;\n\nvarying vec4 v_worldPosition;\nvarying vec2 v_texcoord;\nvarying vec2 v_backgroundTexcoord;\nvarying vec3 v_color;\n\nvoid main() {\n  v_texcoord = a_texcoord * u_uvScale + u_uvOffset;\n  v_backgroundTexcoord = a_texcoord * u_uvScaleBackground + u_uvOffsetBackground;\n  v_worldPosition = modelMatrix * vec4(a_position, 1.0);\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(a_position, 1.0);\n}\n",h="\nprecision mediump float;\n\nvarying vec4 v_worldPosition;\nvarying vec2 v_texcoord;\nvarying vec2 v_backgroundTexcoord;\n\nuniform sampler2D u_tileTexture;\nuniform sampler2D u_backgroundTexture;\nuniform vec2 u_horizontalAngleBounds;\nuniform vec2 u_verticalAngleBounds;\n\nvoid main() {\n  // Use the world position of the fragment to compute where it lies\n  // in terms of horizontal and vertical angles.\n  float hAngle = atan(v_worldPosition.x, -1.0 * v_worldPosition.z);\n  float vAngle = atan(v_worldPosition.y, sqrt(v_worldPosition.x * v_worldPosition.x + v_worldPosition.z * v_worldPosition.z));\n\n  // If this fragment is out of bounds, use the color of the background texture\n  // which is the Level 0 face texture. Otherwise, use the color of the texture\n  // given to be displayed.\n  if (hAngle > u_horizontalAngleBounds.x &&\n      hAngle < u_horizontalAngleBounds.y &&\n      vAngle > u_verticalAngleBounds.x &&\n      vAngle < u_verticalAngleBounds.y) {\n    gl_FragColor = texture2D(u_tileTexture, v_texcoord);\n  } else {\n    gl_FragColor = texture2D(u_backgroundTexture, v_backgroundTexcoord);\n  }\n}\n";function a(a){var c=new(b("CometWebGLProgram"))(a);return c.addShader(g,a.VERTEX_SHADER).addShader(h,a.FRAGMENT_SHADER).compile()}}),null);
__d("CometWebGLCubemapTileMesh",["CometWebGLMesh","Matrices","Quaternions","createWebGLTiledCubemapTileProgram","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g={MINUS_X:0,MINUS_Y:5,MINUS_Z:1,PLUS_X:2,PLUS_Y:4,PLUS_Z:3},h=1;a=function(){function a(a,c,d,e,f){this.$1=a;this.$3=c;this.$5=d;this.$2=new(b("CometWebGLMesh"))(a,b("createWebGLTiledCubemapTileProgram")(a),{interleaved:!1});this.$2.addAttribute("a_position",{offset:0});this.$2.addAttribute("a_texcoord",{offset:48});c=[1,1,-.5,0,1,-.5,0,0,-.5,1,0,-.5,1,1,0,1,0,0,1,0];this.$2.bufferData(c);this.$2.bufferIndex([0,1,2,2,3,0]);d=1/Math.pow(2,this.$3.level);a=b("Matrices").createScalingMatrix(d,d,1);c=this.$6(this.$3.face);d=this.$7(this.$3.level,this.$3.col,this.$3.row);a=b("Matrices").multiplyMat4(b("Matrices").multiplyMat4(a,d),c);this.$4=a;this.$2.setUniform("modelMatrix",this.$4);this.$2.setUniform("u_horizontalAngleBounds",[].concat(e));this.$2.setUniform("u_verticalAngleBounds",[].concat(f))}var c=a.prototype;c.draw=function(a,b){this.$2.setUniform("viewMatrix",a);this.$2.setUniform("projectionMatrix",b);a=this.$5.getBestTileTexture(this.$3);b=a[0];a=a[1];a=this.$8(a);var c=a[0];a=a[1];this.$2.setUniform("u_tileTexture",b);this.$2.setUniform("u_uvScale",a);this.$2.setUniform("u_uvOffset",[].concat(c));b={col:0,face:this.$3.face,level:0,row:0};a=this.$5.getBestTileTexture(b);c=a[0];a[1];a=this.$8(b);b=a[0];a=a[1];this.$2.setUniform("u_backgroundTexture",c);this.$2.setUniform("u_uvScaleBackground",a);this.$2.setUniform("u_uvOffsetBackground",[].concat(b));this.$2.program.use();this.$2.draw()};c.$6=function(a){switch(a){case g.PLUS_X:return b("Matrices").createRotationMatrixFromQuaternion(b("Quaternions").quaternionFromTaitBryan(0,-Math.PI/2,0));case g.MINUS_X:return b("Matrices").createRotationMatrixFromQuaternion(b("Quaternions").quaternionFromTaitBryan(0,Math.PI/2,0));case g.PLUS_Y:return b("Matrices").multiplyMat4(b("Matrices").createRotationMatrixFromQuaternion(b("Quaternions").quaternionFromTaitBryan(0,0,Math.PI)),b("Matrices").createRotationMatrixFromQuaternion(b("Quaternions").quaternionFromTaitBryan(Math.PI/2,0,0)));case g.MINUS_Y:return b("Matrices").multiplyMat4(b("Matrices").createRotationMatrixFromQuaternion(b("Quaternions").quaternionFromTaitBryan(0,0,Math.PI)),b("Matrices").createRotationMatrixFromQuaternion(b("Quaternions").quaternionFromTaitBryan(-Math.PI/2,0,0)));case g.PLUS_Z:return b("Matrices").createRotationMatrixFromQuaternion(b("Quaternions").quaternionFromTaitBryan(0,Math.PI,0));case g.MINUS_Z:return b("Matrices").createIdentityMat4();default:throw b("unrecoverableViolation")("Unexpected cube face index: "+a,"immersive_media")}};c.$8=function(a){a=this.$3.level-a.level;if(a===0)return[[0,0],1];a=1/Math.pow(2,a);var b=1*a,c=[b*this.$3.col,b*this.$3.row];c[1]=1-b-c[1];return[c,a]};c.$7=function(a,c,d){a=h/Math.pow(2,a);var e=h/2;c=[c*a,d*a];c[1]=1-a-c[1];d=-e;return b("Matrices").createTranslationMatrix(c[0]+d,c[1]+d,0)};return a}();e.exports=a}),null);
__d("Comet360PhotoTiledCubemapRenderer",["Comet360PhotoTiledCubemapTextureCache","Comet360PhotoTiledCubemapTile","CometWebGLCubemapTileMesh","Promise","promiseDone"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e){this.$1=a;this.$3=d;this.$2=c;this.$4=e;this.$6=new(b("Comet360PhotoTiledCubemapTextureCache"))(this.$1);this.$5=new Map();this.$7=!1;a=this.$2.horizontalFov();d=this.$2.verticalFov();this.$8=[-a/2,a/2];this.$9=[-d/2,d/2]}var c=a.prototype;c.initialize=function(){return this.$10()};c.draw=function(){var a=this;if(!this.$7)return;var c=this.$1;c.clear(c.COLOR_BUFFER_BIT);c.enable(c.CULL_FACE);c.cullFace(c.BACK);c=this.$11(1);var d=[],e=function(){if(g){if(h>=f.length)return"break";i=f[h++]}else{h=f.next();if(h.done)return"break";i=h.value}var c=i,e=b("Comet360PhotoTiledCubemapTile").hashCubemapTileInfo(c),j=a.$5.get(e);j==null&&(j=new(b("CometWebGLCubemapTileMesh"))(a.$1,c,a.$6,a.$8,a.$9),a.$5.set(e,j));d.push(j);e=a.$6.hasTexture(c);!e&&!a.$2.isFetchingTileImage(c)&&b("promiseDone")(a.$2.fetchTileImage(c).then(function(b){a.$6.loadTexture(c,b),a.$4(function(){a.draw()})}))};for(var f=c,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;c=e();if(c==="break")break}for(var c=0;c<d.length;c++){e=d[c];e.draw(this.$3.getViewMatrix(),this.$3.getProjectionMatrix())}};c.$11=function(a){var b=Math.pow(2,a),c=[];for(var d=0;d<6;d++)for(var e=0;e<b;e++)for(var f=0;f<b;f++)c.push({col:f,face:d,level:a,row:e});return c};c.$10=function(){var a=this;if(this.$7)return new(b("Promise"))(function(a,b){a()});var c=[],d=function(b){var d={col:0,face:b,level:0,row:0};c.push(a.$2.fetchTileImage(d).then(function(b){a.$6.loadTexture(d,b)}))};for(var e=0;e<6;e++)d(e);return b("Promise").all(c).then(function(){a.$7=!0})};return a}();e.exports=a}),null);
__d("Comet360SphericalMediaHeadingIndicatorOverlay.react",["react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j={canvas:{height:"datstx6m",width:"k4urcfbm"},invisible:{opacity:"b5wmifdl"},root:{end:"n7fi1qx3",height:"afyhebng",pointerEvents:"hzruof5a",position:"pmk7jnqg",top:"rk01pc8j",transform:"py2didcb",transitionDuration:"jowmb856",transitionProperty:"art1omkt",transitionTimingFunction:"e4zzj2sf",width:"t4m6vmga"},rootTop:{end:"oi4qjx4h",height:"afyhebng",pointerEvents:"hzruof5a",position:"pmk7jnqg",top:"cfuipb4x",transform:"gql6uxbq",transitionDuration:"jowmb856",transitionProperty:"art1omkt",transitionTimingFunction:"e4zzj2sf",width:"t4m6vmga"}},k={arcRadius:6.3,arcStroke:5.3,backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundRadius:17.5,centerRadius:2,elementColor:"rgba(255, 255, 255, 0.85)",height:35,innerRadius:12,innerStroke:1,partialPanoElementColor:"rgba(255, 255, 255, 0.6)",rimRadius:16.8,rimStroke:1.4,triangle:[2,2.5,5.2],width:35};function l(){return Math.max(window.devicePixelRatio||1,1)}function m(){var a=l();return{height:k.height*a,width:k.width*a}}function n(){var a=m();return{x:a.width/2,y:a.height/2}}var o=function(a,b,c,d){a.beginPath(),a.arc(b.x,b.y,c*l(),0,2*Math.PI,!1),a.fillStyle=d,a.lineWidth=0,a.fill()},p=function(a,b,c,d,e,f,g){var h=l();a.beginPath();a.arc(b.x,b.y,c*h,d,e,!1);a.lineWidth=f*h;a.strokeStyle=g;a.stroke()};function q(a){var b=n(),c=l(),d=k.triangle[0]*c,e=k.triangle[1]*c;c=k.triangle[2]*c;a.translate(b.x,b.y);a.beginPath();a.moveTo(0,d-b.y);a.lineTo(-e,c-b.y);a.lineTo(e,c-b.y);a.fillStyle=k.elementColor;a.fill()}function r(a,b,c,d){var e=n();o(a,e,k.backgroundRadius,k.backgroundColor);o(a,e,k.centerRadius,k.elementColor);p(a,e,k.innerRadius,0,2*Math.PI,k.innerStroke,k.partialPanoElementColor);b=b/2;p(a,e,k.innerRadius,c+d-b,c+d+b,k.innerStroke,k.elementColor)}function s(a,b,c,d,e){c=c-d;d=b/2;p(a,n(),k.arcRadius,e+c-d,e+c+d,k.arcStroke,k.elementColor)}function a(a){var c=a.currentHeading,d=a.initialHeading,e=d===void 0?0:d;d=a.isVisible;d=d===void 0?!0:d;var f=a.maximumHorizontalFov,g=a.poiHeading,k=g===void 0?1.5*Math.PI:g,l=a.viewerHorizontalFov;g=a.headingIndicationLocationTop;a=g===void 0?!1:g;var n=i.useRef(null);i.useLayoutEffect(function(){var a=n.current;if(a==null)return;var b=m();(a.width!==b.width||a.height!==b.height)&&(a.width=b.width,a.height=b.height);a=a.getContext("2d");if(!a)return;a.save();a.clearRect(0,0,b.width,b.height);r(a,f,k,e);s(a,l,k,e,c);q(a);a.restore()},[c,e,f,k,l]);g=a?j.rootTop:j.root;return i.jsx("div",{className:(h||(h=b("stylex")))(g,!d&&j.invisible),children:i.jsx("canvas",{className:h(j.canvas),ref:n})})}}),null);
__d("LazyMat4",["Matrices"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=!0,this.$1=b("Matrices").createIdentityMat4(),this.$3=a}var c=a.prototype;c.value=function(){this.$2&&(this.$1=this.$3(),this.$2=!1);return[].concat(this.$1)};c.markDirty=function(){this.$2=!0};return a}();e.exports=a}),null);
__d("CometWebGLCamera",["LazyMat4","Matrices","Quaternions"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e){var f=this;this.$1=a;this.$2=c;this.$3=d;this.$4=e;this.$6=[0,0,0,1];this.$5=[0,0,0];this.$7=new(b("LazyMat4"))(function(){var a,c=(a=b("Matrices")).createRotationMatrixFromQuaternion(f.$6),d=a.createTranslationMatrixFromVec(f.$5);c=a.multiplyMat4(c,d);return a.invertMat4(c)});this.$8=new(b("LazyMat4"))(function(){return b("Matrices").createPerspectiveProjectionMatrix(f.$1,f.$2,f.$3,f.$4)});this.$9=new(b("LazyMat4"))(function(){var a=b("Matrices").multiplyMat4(f.$7.value(),f.$8.value());return b("Matrices").invertMat4(a)})}var c=a.prototype;c.getViewMatrix=function(){return this.$7.value()};c.getProjectionMatrix=function(){return this.$8.value()};c.getInvertedViewProjectionMatrix=function(){return this.$9.value()};c.getRotation=function(){return[].concat(this.$6)};c.setRotation=function(a){this.$6=[].concat(a);this.$7.markDirty();this.$9.markDirty();return this};c.getPosition=function(){return[].concat(this.$5)};c.setPosition=function(a){this.$5=a;this.$7.markDirty();this.$9.markDirty();return this};c.getAspectRatio=function(){return this.$2};c.setAspectRatio=function(a){this.$2=a;this.$8.markDirty();this.$9.markDirty();return this};c.getHorizontalFov=function(){return a.computeHorizontalFov(this.$2,this.$1)};c.getVerticalFov=function(){return this.$1};c.setVerticalFov=function(a){this.$1=a;this.$8.markDirty();this.$9.markDirty();return this};c.translate=function(a,c,d,e){e===void 0&&(e=!0);a=[a,c,d,0];if(!e){c=b("Matrices").createRotationMatrixFromQuaternion(this.$6);a=b("Matrices").multiplyVec4(a,c)}this.$5=[this.$5[0]+a[0],this.$5[1]+a[1],this.$5[2]+a[2]];this.$7.markDirty();this.$9.markDirty();return this};c.rotate=function(a){this.$6=b("Quaternions").multiply(this.$6,a);this.$7.markDirty();this.$9.markDirty();return this};a.computeHorizontalFov=function(a,b){return 2*Math.atan(Math.tan(b/2)*a)};a.computeVerticalFov=function(a,b){return 2*Math.atan(Math.tan(b/2)/a)};return a}();e.exports=a}),null);
__d("PanEventListenerWrapper.react",["VideoPlayerPointerDrag","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=5;function a(a){var c=a.onPan,d=a.onPanEnd,e=a.onPanStart,f=a.onPress,g=h.useRef(0),j=h.useRef(null),k=h.useRef(null),l=h.useCallback(function(a){g.current=0,j.current=a.clientX,k.current=a.clientY,e!=null&&e()},[g,j,k,e]),m=h.useCallback(function(a){if(j.current!=null&&k.current!=null){var b=a.clientX-j.current,d=a.clientY-k.current,e=Math.sqrt(b*b+d*d);g.current+=e;c!=null&&c(b,d)}j.current=a.clientX;k.current=a.clientY},[g,j,k,c]),n=h.useCallback(function(){g.current<i&&(f!=null&&f()),d!=null&&d()},[f,d]);n=b("VideoPlayerPointerDrag").usePointerDrag({onDragCancel:n,onDragEnd:n,onDragMove:m,onDragStart:l});m=n.rootProps;return h.jsx("div",babelHelpers["extends"]({},m,{children:a.children}))}}),null);
__d("useFrameTiming",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){var a=h.useRef(null),b=h.useRef(null),c=h.useCallback(function(a){var c=b.current;if(c==null)return;c(a)},[]),d=h.useCallback(function(d){var e=a.current;e!=null&&window.cancelAnimationFrame(e);b.current=d;a.current=window.requestAnimationFrame(c)},[c]),e=h.useCallback(function(){var b=a.current;if(b==null)return;window.cancelAnimationFrame(b)},[]);h.useEffect(function(){return function(){var b=a.current;if(b==null)return;window.cancelAnimationFrame(b)}},[]);return[d,e]}}),null);
__d("SphericalPhotoPanEventListenerWrapper.react",["PanEventListenerWrapper.react","react","useFrameTiming"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=.95,j=.001,k=1;function a(a){var c=a.children,d=a.disableMomentum,e=a.onPan,f=a.onPress,g=h.useRef(0),l=h.useRef(0),m=h.useRef(0),n=h.useRef(0);a=b("useFrameTiming")();var o=a[0],p=a[1],q=h.useCallback(function(){g.current*=i,l.current*=i,e(g.current,l.current),(Math.abs(g.current)>j||Math.abs(l.current)>j)&&o(q)},[g,l,e,o]),r=h.useCallback(function(a,b){p(),m.current=a,n.current=b,e(a,b)},[p,e,m,n]);a=h.useCallback(function(){r(0,0)},[r]);var s=h.useCallback(function(){var a=function(a){return Math.abs(a)>k?a:0};g.current=a(m.current||0);l.current=a(n.current||0);d!==!0&&o(q)},[d,o,q]),t=h.useCallback(function(){f!=null&&(p(),f())},[p,f]);return h.jsx(b("PanEventListenerWrapper.react"),{onPan:r,onPanEnd:s,onPanStart:a,onPress:t,children:c})}}),null);
__d("useGLContext",["WebPixelRatio","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c,d){var e=h.useState(null),f=e[0],g=e[1],i=(e=d==null?void 0:d.expand)!=null?e:!1;h.useEffect(function(){var a=document.createElement("canvas"),c=a.getContext("webgl");if(c==null){b("recoverableViolation")("Unable to create WebGL context","webgl");return function(){}}g(c);return function(){try{c.getExtension("WEBGL_lose_context").loseContext()}catch(a){b("recoverableViolation")("Failed to clean up WebGL context","webgl",{error:a})}}},[]);h.useEffect(function(){if(f==null)return;var d=f.canvas,e=b("WebPixelRatio").get(),g=a*e;e=c*e;d.width=g;d.height=e;f.viewport(0,0,g,e);d.style.width=i?"100%":a+"px"},[f,a,c,i]);d=h.useCallback(function(a){if(f==null)return;var b=f.canvas,c=b.parentNode;c!=null&&c.removeChild(b);a!=null&&a.appendChild(b)},[f]);return[f,d]}}),null);
__d("Comet360PhotoViewer.react",["fbt","Comet360PhotoCylindricalRenderer","Comet360PhotoSphericalRenderer","Comet360PhotoTiledCubemapRenderer","Comet360PhotoTypes","Comet360SphericalMediaHeadingIndicatorOverlay.react","CometFeedStoryImmersiveMediaMouseOverlay.react","CometWebGLCamera","Quaternions","SphericalPhotoPanEventListenerWrapper.react","clearTimeout","mergeRefs","promiseDone","react","recoverableViolation","setTimeout","useFrameTiming","useGLContext","useThrottled","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react"),j=.1,k=100,l=1.527163;function a(a){var c=a.disableMomentum,d=a.fallbackElement,e=a.headingIndicationLocationTop,f=a.height,h=a.onCameraViewChange,m=a.onLoad,n=a.onPress,o=a.photoEncoding,p=a.width,q=p/f,r=i.useMemo(function(){if(o.startingView.verticalFov!=null)return o.startingView.verticalFov;return o.startingView.horizontalFov!=null?b("CometWebGLCamera").computeVerticalFov(q,o.startingView.horizontalFov):l},[o.startingView.verticalFov,o.startingView.horizontalFov,q]),s=i.useMemo(function(){var a;return(a=o.startingView.horizontalFov)!=null?a:b("CometWebGLCamera").computeHorizontalFov(q,r)},[o.startingView.horizontalFov,q,r]),t=i.useRef(2*Math.PI-o.startingView.heading);t.current>Math.PI&&(t.current-=2*Math.PI);var u=i.useRef(o.startingView.pitch),v=i.useRef(t.current),w=i.useMemo(function(){var a=-Math.PI/2,b=0,c=0,d=Math.PI/2;o.verticalFov<Math.PI&&(d=o.verticalFov/2-r/2,a=-o.verticalFov/2+r/2);o.horizontalFov<Math.PI*2&&(b=o.horizontalFov/2-s/2,c=-o.horizontalFov/2+s/2);return[b,c,d,a]},[o.verticalFov,o.horizontalFov,r,s]),x=w[0],y=w[1],z=w[2],A=w[3];w=i.useState(v.current);var B=w[0],C=w[1];w=i.useState(!0);var D=w[0],E=w[1];w=i.useState(!1);var F=w[0],G=w[1],H=i.useRef(null);w=b("useGLContext")(p,f,{expand:!0});var I=w[0],J=w[1],K=i.useRef([0,0]),L=i.useRef(0);w=b("useFrameTiming")();var M=w[0],N=i.useMemo(function(){return new(b("CometWebGLCamera"))(r,q,j,k)},[r,q]),O=i.useMemo(function(){if(I==null)return null;switch(o.projectionType){case b("Comet360PhotoTypes").Comet360PhotoProjection.TiledCubemap:var a=o.tiledCubemapDataProvider;if(a==null){b("recoverableViolation")("Data provider for tiled cubemap renderer was not set","immersive_media");return null}return new(b("Comet360PhotoTiledCubemapRenderer"))(I,a,N,M);case b("Comet360PhotoTypes").Comet360PhotoProjection.Cylindrical:a=o.sphericalDataProvider;if(a==null){b("recoverableViolation")("Data provider for cylindrical renderer was not set","immersive_media");return null}return new(b("Comet360PhotoCylindricalRenderer"))(I,a,N,M,o.horizontalFov,o.verticalFov);case b("Comet360PhotoTypes").Comet360PhotoProjection.Equirectangular:a=o.sphericalDataProvider;if(a==null){b("recoverableViolation")("Data provider for spherical renderer was not set","immersive_media");return null}return new(b("Comet360PhotoSphericalRenderer"))(I,a,N,M)}},[I,o.projectionType,o.tiledCubemapDataProvider,o.sphericalDataProvider,o.horizontalFov,o.verticalFov,N,M]),P=i.useCallback(function(){if(O==null)return;O.draw()},[O]),Q=function(){b("clearTimeout")(H.current),H.current=b("setTimeout")(function(){G(!0)},3e3)};w=function(){F&&G(!1),Q()};var R=b("useThrottled")(w,100),S=b("useVisibilityObserver")({onVisible:function(){Q()}});w=i.useMemo(function(){return b("mergeRefs")(J,S)},[J,S]);i.useEffect(function(){return function(){b("clearTimeout")(H.current)}},[]);var T=i.useCallback(function(){if(I==null)return;var a=I.canvas,b=0,c=0;while(a!=null)b+=a instanceof HTMLElement?a.offsetLeft:0,c+=a instanceof HTMLElement?a.offsetTop:0,a=a instanceof HTMLElement?a.offsetParent:null;K.current=[b,c]},[K,I]),U=i.useMemo(function(){return[p/2/Math.tan(s/2),f/2/Math.tan(r/2)]},[f,s,r,p]),V=U[0],W=U[1],X=i.useCallback(function(a,c){if(a===0&&c===0)return;t.current+=Math.atan(a/V);u.current+=Math.atan(c/W);x!==0&&t.current%Math.PI>x&&(t.current=x);y!==0&&t.current%Math.PI<y&&(t.current=y);u.current>z&&(u.current=z);u.current<A&&(u.current=A);a=b("Quaternions").quaternionFromTaitBryan(u.current,t.current,0);c=v.current-(t.current-v.current);C(c);h&&h(c,u.current,r);N.setRotation(a);M(function(){P()})},[A,N,P,x,h,y,V,W,M,z,r]);U=i.useCallback(function(a,b){R(),X(a,b)},[X,R]);var Y=i.useCallback(function(){var a;if(I==null)return;T();var b=window.innerHeight,c=I.canvas.clientHeight;b=b+c;a=K.current[1]-((a=(a=document.scrollingElement)==null?void 0:a.scrollTop)!=null?a:0)+c;c=a/b;a=c-L.current;L.current=c;if(c<0||c>1)return;X(-a*V,0)},[K,I,T,X,V]);i.useEffect(function(){document.addEventListener("scroll",Y);var a=!0;if(O==null)return;b("promiseDone")(O.initialize().then(function(){if(!a)return;var c=b("Quaternions").quaternionFromTaitBryan(u.current,t.current,0);N.setRotation(c);M(function(){P()});E(!1);m&&m()}));return function(){a=!1,document.removeEventListener("scroll",Y)}},[N,O,P,m,Y,M]);return i.jsxs(b("SphericalPhotoPanEventListenerWrapper.react"),{disableMomentum:c,onPan:U,onPress:n,children:[i.jsx("div",{ref:w,style:{display:D?"none":"block",lineHeight:0}}),D?d:null,i.jsx(b("CometFeedStoryImmersiveMediaMouseOverlay.react"),{descriptionFbt:g._("Nh\u1ea5p v\u00e0 k\u00e9o \u0111\u1ec3 nh\u00ecn xung quanh"),isActive:F,showClick:!0}),i.jsx(b("Comet360SphericalMediaHeadingIndicatorOverlay.react"),{currentHeading:B,headingIndicationLocationTop:e,initialHeading:v.current,isVisible:!D,maximumHorizontalFov:a.photoEncoding.horizontalFov,viewerHorizontalFov:r})]})}}),null);
__d("Comet3DPhotoLoadingOverlay.react",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){a=a.isVisible;return h.jsx("div",{className:"orwu60u2 e4zzj2sf art1omkt jowmb856 py2didcb rk01pc8j kfkz5moi pmk7jnqg hzruof5a rdkrh8wx"+(a?"":" b5wmifdl"),children:h.jsx("div",{})})}}),null);
__d("createWebGL3DPhotoProgram",["CometWebGLProgram"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g="\nattribute vec3 a_position;\nattribute vec2 a_texcoord_0;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nvarying vec2 v_texcoord_0;\n\nvoid main() {\n  v_texcoord_0 = a_texcoord_0;\n  gl_Position = projectionMatrix * viewMatrix * vec4(a_position, 1.0);\n}\n",h='\nprecision mediump float;\n\nvarying vec2 v_texcoord_0;\nuniform sampler2D u_texture_0;\n\nvoid main() {\n  // LOD refers to "level of detail" and is used for mipmap filtering.\n  // A positive LOD bias samples closer to the less detailed mipmap level,\n  // and a negative LOD bias samples closer to the more detailed mipmap level.\n  const float kLodBias = 0.0;\n  gl_FragColor = texture2D(u_texture_0, v_texcoord_0, kLodBias);\n}\n';function a(a){var c=new(b("CometWebGLProgram"))(a);return c.addShader(g,a.VERTEX_SHADER).addShader(h,a.FRAGMENT_SHADER).compile().setUniformDefaults({projectionMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],viewMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]})}}),null);
__d("createMeshesFromGLTF",["CometWebGLMesh","CometWebGLTexture","Promise","createWebGL3DPhotoProgram"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g={POSITION:"a_position",TEXCOORD_0:"a_texcoord_0"};function a(a,c){var d=[],e=b("createWebGL3DPhotoProgram")(a),f=[],i=c.getMeshes();for(var i=i,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;l=l.primitives;for(var l=l,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}o=o;var p=o.attributes,q=[],r=Infinity,s=0;p=Object.entries(p);for(var t=0;t<p.length;t++){var u=p[t],v=u[0];u=u[1];if(typeof u==="number"){u=c.getAccessor(u);var w=c.getBufferView(u.bufferView);w.byteOffset<r&&(r=w.byteOffset);w.byteOffset+w.byteLength>s&&(s=w.byteOffset+w.byteLength);u=u.byteOffset!=null?u.byteOffset:0;q.push({byteOffset:w.byteOffset+u,name:v})}}q.sort(h);var x=new(b("CometWebGLMesh"))(a,e,{interleaved:!1});w=c.getBinarySource();for(var u=0;u<q.length;u++){v=q[u];if(v.name in g){p=v.byteOffset-r;t={offset:p};x.addAttribute(g[v.name],t)}}x.bufferData(new Float32Array(w.buffer,w.byteOffset+r,(s-r)/4));o.indices!=null&&x.bufferIndex(c.getDataViewForAccessor(o.indices));if(o.material!=null){p=c.getMaterial(o.material);var y=p==null?void 0:(v=p.pbrMetallicRoughness)==null?void 0:(t=v.baseColorTexture)==null?void 0:t.index;y!=null&&(function(){var d=c.getTexture(y),e=c.getImage(d.source),g=new(b("CometWebGLTexture"))(a,{generateMipmaps:!0});f.push(new(b("Promise"))(function(a,b){e.onload=function(){g.setSource(e),a()},e.onerror=function(){b()}}));x.setUniform("u_texture_0",g)})()}d.push(x)}}return b("Promise").all(f).then(function(){return d})}function h(a,b){return a.byteOffset-b.byteOffset}}),null);
__d("glVec3CrossProduct",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}}),null);
__d("glMatrixLookingAtTarget",["glVec3CrossProduct"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){c=[a[0]-c[0],a[1]-c[1],a[2]-c[2]];var d=Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);c[0]/=d;c[1]/=d;c[2]/=d;d=b("glVec3CrossProduct")([0,1,0],c);var e=b("glVec3CrossProduct")(c,d);return[d[0],d[1],d[2],0,e[0],e[1],e[2],0,c[0],c[1],c[2],0,a[0],a[1],a[2],1]}}),null);
__d("GLTFResource",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=[],this.$2=[],this.$3=null,this.$4=null,this.$5=[],this.$6=[],this.$7=[],this.$8=[]}var c=a.prototype;c.addBinarySource=function(a,b,c){this.$3=new Uint8Array(a,b,c)};c.useJSON=function(a){var b;this.$4=(b=a.extras)!=null?b:Object.freeze({});this.$1=(b=a.accessors)!=null?b:[];this.$2=(b=a.bufferViews)!=null?b:[];this.$5=(b=a.images)!=null?b:[];this.$6=(b=a.materials)!=null?b:[];this.$7=(b=a.meshes)!=null?b:[];this.$8=(b=a.textures)!=null?b:[]};c.getBinarySource=function(){if(this.$3==null)throw b("unrecoverableViolation")("attempted to access binary source before it was set","webgl");return this.$3};c.hasBinarySource=function(){return this.$3!=null};c.getAccessor=function(a){a=this.$1[a];if(a==null)throw new(b("unrecoverableViolation"))("accessor index out of range","webgl");return a};c.getBufferView=function(a){a=this.$2[a];if(a==null)throw new(b("unrecoverableViolation"))("buffer view index out of range","webgl");return a};c.getExtras=function(){return this.$4};c.getMaterial=function(a){a=this.$6[a];if(a==null)throw new(b("unrecoverableViolation"))("material index out of range","webgl");return a};c.getMeshes=function(){return this.$7};c.getTexture=function(a){a=this.$8[a];if(a==null)throw new(b("unrecoverableViolation"))("texture index out of range","webgl");return a};c.getDataViewForAccessor=function(a){a=this.$1[a];if(a==null)throw new(b("unrecoverableViolation"))("accessor index out of range","webgl");var c=this.$2[a.bufferView];if(c==null)throw new(b("unrecoverableViolation"))("buffer view index out of range","webgl");if(c.buffer!==0)throw new(b("unrecoverableViolation"))("external gltf buffers are not currently supported","webgl");var d=this.$3;if(d==null)throw new(b("unrecoverableViolation"))("attempted to get an accessor before loading binary data","webgl");var e=d.byteOffset+c.byteOffset;switch(a.componentType){case 5120:return new Int8Array(d.buffer,e,c.byteLength);case 5121:return new Uint8Array(d.buffer,e,c.byteLength);case 5122:return new Int16Array(d.buffer,e,c.byteLength/2);case 5123:return new Uint16Array(d.buffer,e,c.byteLength/2);case 5124:return new Int32Array(d.buffer,e,c.byteLength/4);case 5125:return new Uint32Array(d.buffer,e,c.byteLength/4);case 5126:return new Float32Array(d.buffer,e,c.byteLength/4);default:throw new(b("unrecoverableViolation"))("unsupported gl component type","webgl")}};c.getImage=function(a){a=this.$5[a];var b=this.getBufferView(a.bufferView),c=this.getBinarySource();c=new Uint8Array(c.buffer,c.byteOffset+b.byteOffset,b.byteLength);b=new Blob([c],{type:a.mimeType});c=URL.createObjectURL(b);a=new Image();a.src=c;return a};return a}();e.exports=a}),null);
__d("GLTFTypesValidator",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.throwBadFormat=g;f.validateAccessor=h;f.validateAccessors=i;f.validateArray=j;f.validateBoolean=a;f.validateBuffer=k;f.validateBufferView=l;f.validateBufferViews=m;f.validateBuffers=n;f.validateExtras=o;f.validateGLTFBodyJSON=c;f.validateImage=p;f.validateImages=q;f.validateInteger=r;f.validateMaterial=s;f.validateMaterials=t;f.validateMesh=u;f.validateMeshes=v;f.validatePrimitive=w;f.validatePrimitives=x;f.validateString=y;f.validateTexture=z;f.validateTextures=A;function g(a){throw new(b("unrecoverableViolation"))("unrecoverable incorrectly formatted JSON ".concat(a),"webgl")}function h(a){a===void 0&&g("GLTFAccessor undefined"),r(a.bufferView,!0,"GLTFAccessor.bufferView",0),r(a.byteOffset,!1,"GLTFAccessor.byteOffset",0),r(a.componentType,!0,"GLTFAccessor.componentType",5120,5126),r(a.count,!0,"GLTFAccessor.count",1),a.type!==void 0&&(a.type!=="SCALAR"&&a.type!=="VEC2"&&a.type!=="VEC3"&&a.type!=="VEC4"&&g("GLTFAccessor malformed"))}function i(a){j(a,!0,"GLTFAccessor");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;h(d)}}function j(a,b,c){if(a===void 0)if(b)g("Array<".concat(c).concat("> undefined"));else return;else a.length===0&&g("Array<".concat(c).concat("> length=0"))}function a(a,b,c){if(a===void 0)if(b)g(c.concat(" undefined"));else return;typeof a!=="boolean"&&g(c.concat(" not a boolean"))}function k(a){a===void 0&&g("GLTFBuffer undefined"),r(a.byteLength,!0,"GLTFBuffer.byteLength",1)}function l(a){r(a.buffer,!0,"GLTFBufferView.buffer",0),r(a.byteOffset,!0,"GLTFBufferView.byteOffset",0),r(a.byteLength,!0,"GLTFBufferView.byteLength",0)}function m(a){j(a,!1,"GLTFBufferView");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;l(d)}}function n(a){j(a,!1,"GLTFBuffer");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;k(d)}}function o(a){a!==void 0&&(a.FB_PHOTO_3D_DATA!==void 0?(a.FB_PHOTO_3D_DATA.hFov!==void 0&&r(a.FB_PHOTO_3D_DATA.hFov,!1,"GLTFExtras.FB_PHOTO_3D_DATA.hFov"),a.FB_PHOTO_3D_DATA.vFov!==void 0&&r(a.FB_PHOTO_3D_DATA.vFov,!1,"GLTFExtras.FB_PHOTO_3D_DATA.vFov")):g("GLTFExtras undefined"))}function c(a){a!==void 0?(i(a.accessors),n(a.buffers),m(a.bufferViews),o(a.extras),q(a.images),t(a.materials),v(a.meshes),A(a.textures)):g("GLTFBody undefined")}function p(a){a===void 0&&g("GLTFImage undefined"),y(a.mimeType,!0,"GLTFImage.mimeType"),r(a.bufferView,!0,"GLTFImage.bufferView",0)}function q(a){j(a,!1,"GLTFImage");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;p(d)}}function r(a,b,c,d,e){d===void 0&&(d=Number.MIN_SAFE_INTEGER);e===void 0&&(e=Number.MAX_SAFE_INTEGER);if(a===void 0)if(b)g(c.concat(" undefined"));else return;typeof a==="number"?(a<d||a>e)&&g(c.concat(" out of range")):g(c.concat(" not an integer"))}function s(a){a===void 0&&g("GLTFMaterial undefined"),a.pbrMetallicRoughness!==void 0&&(a.pbrMetallicRoughness.baseColorTexture!==void 0&&r(a.pbrMetallicRoughness.baseColorTexture.index,!1,"GLTFMaterial.pbrMetallicRoughness.baseColorTexture.index",0))}function t(a){j(a,!1,"GLTFMaterial");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;s(d)}}function u(a){a===void 0&&g("GLTFMesh undefined"),x(a.primitives)}function v(a){j(a,!0,"GLTFMesh");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;u(d)}}function w(a){a===void 0&&g("GLTFPrimitive undefined");for(var b in a.attributes)Object.prototype.hasOwnProperty.call(a.attributes,b)&&(b==="POSITION"||b==="TEXCOORD_0"||b==="TEXCOORD_1"?r(a.attributes[b],!0,"GLTFPrimitives.attributes[".concat(b).concat("]"),0):g("GLTFPrimitive malformed"));r(a.indices,!1,"GLTFPrimitives.indicies",0);r(a.material,!1,"GLTFPrimitives.material",0)}function x(a){a===void 0&&g("GLTFPrimatives undefined");j(a,!0,"GLTFPrimitive");for(var b=0;b<a.length;b++){var c=a[b];w(c)}}function y(a,b,c){if(a===void 0)if(b)g(c.concat(" undefined"));else return;typeof a!=="string"&&g(c.concat(" not a string"))}function z(a){a===void 0&&g("GLTFTexture undefined"),r(a.sampler,!0,"GLTFTexture.sampler",0),r(a.source,!0,"GLTFTexture.source",0)}function A(a){j(a,!0,"GLTFTexture");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;z(d)}}}),null);
__d("extractUTF8StringFromBuffer",["EndianAwareDataReader","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a){return a>127}function h(a){return a>=192&&a<=223}function i(a){return a>=224&&a<=239}function j(a){return a>=240&&a<=247}function a(a,c,d){if(c+d>a.byteLength)throw new(b("unrecoverableViolation"))("offset and length exceed ArrayBuffer bounds","webgl");if("TextDecoder"in window){var e=new TextDecoder("utf-8"),f=new Uint8Array(a,c,d);return e.decode(f)}e=new(b("EndianAwareDataReader"))(a.slice(c,c+d),!1);f=[];while(e.canReadU8()){a=e.readU8();if(g(a))if(h(a)){if(!e.canReadU8())throw new(b("unrecoverableViolation"))("incomplete two-byte utf8 sequence","webgl");c=e.readU8();a=(a&31)<<6|c&63}else if(i(a)){d=e.canReadU8()?e.readU8():null;c=e.canReadU8()?e.readU8():null;if(d==null||c==null)throw new(b("unrecoverableViolation"))("incomplete three-byte utf8 sequence","webgl");a=(a&15)<<12|(d&63)<<6|c&63}else if(j(a)){d=e.canReadU8()?e.readU8():null;c=e.canReadU8()?e.readU8():null;var k=e.canReadU8()?e.readU8():null;if(d==null||c==null||k==null)throw new(b("unrecoverableViolation"))("incomplete four-byte utf8 sequence","webgl");a=(a&7)<<18|(d&63)<<12|(c&63)<<6|k&63}else throw new(b("unrecoverableViolation"))("unknown utf8 start sequence","webgl");if(a<=65535)f.push(String.fromCharCode(a));else if(a<=1114111)a-=65536,f.push(String.fromCharCode(a>>10|55296)),f.push(String.fromCharCode(a&1023|56320));else throw new(b("unrecoverableViolation"))("codepoint is beyond ","webgl")}return f.join("")}}),null);
__d("parseGLBResource",["GLTFResource","GLTFTypesValidator","extractUTF8StringFromBuffer","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=1179937895;function a(a){var c=new DataView(a);if(c.getUint32(0,!0)!==g)throw new(b("unrecoverableViolation"))("invalid GLB magic number","webgl");if(c.getUint32(4,!0)!==2)throw new(b("unrecoverableViolation"))("unsupported GLB version number","webgl");var d=c.getUint32(8,!0);if(d>a.byteLength)throw new(b("unrecoverableViolation"))("glb buffer is shorter than declared byte length","webgl");var e=new(b("GLTFResource"))(),f=12;while(f<d){var h=c.getUint32(f,!0),i=c.getUint32(f+4,!0);switch(i){case 1313821514:i=b("extractUTF8StringFromBuffer")(a,f+8,h);var j="";try{j=JSON.parse(i)}catch(a){throw new(b("unrecoverableViolation"))("failed to parse glTF JSON","webgl",a)}b("GLTFTypesValidator").validateGLTFBodyJSON(j);e.useJSON(j);break;case 5130562:e.addBinarySource(a,f+8,h);break;default:throw new(b("unrecoverableViolation"))("unexpected GLB section label","webgl")}f+=h+8}return e}}),null);
__d("useGLBLoadAndParse",["parseGLBResource","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=h.useState(null),d=c[0],e=c[1];h.useEffect(function(){var c=!1;b("promiseDone")(window.fetch(a).then(function(a){return a.arrayBuffer()}).then(function(a){if(c)return;a=b("parseGLBResource")(a);e(a)})["catch"](function(){e(null)}));return function(){c=!0}},[a]);return d}}),null);
__d("useGLTFDerivedFOV",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=1,j=.508015513,k=.666488587,l=.925,m=Object.freeze({landscape:-.14,portrait:-.124}),n=Object.freeze({landscape:-.124,portrait:-.112}),o=Object.freeze({landscape:.96,portrait:.8}),p=Object.freeze({landscape:.6,portrait:.7});function a(a){var b=h.useMemo(function(){var b;b=(b=a==null?void 0:(b=a.getExtras())==null?void 0:(b=b.FB_PHOTO_3D_DATA)==null?void 0:b.vFov)!=null?b:k;return b*l},[a]),c=h.useMemo(function(){var b;b=(b=a==null?void 0:(b=a.getExtras())==null?void 0:(b=b.FB_PHOTO_3D_DATA)==null?void 0:b.hFov)!=null?b:j;return b*l},[a]),d=h.useMemo(function(){var a=.1,d=1e3,e=1/Math.tan(b/2),f=c/b;return[e/f,0,0,0,0,e,0,0,0,0,(a+d)/(a-d),-1,0,0,a*d*2/(a-d),0]},[c,b]),e=h.useMemo(function(){var a=c>b?"landscape":"portrait",d=m[a],e=n[a];return[Math.tan(c/2)*i*d,Math.tan(b/2)*i*e,1-o[a],p[a]]},[c,b]),f=e[0],g=e[1],q=e[2];e=e[3];return{hFov:c,maxHorizontalAngle:f,maxVerticalAngle:g,projectionMatrix:d,targetInteractionWeightHorizontal:q,targetScrollWeightVertical:e,vFov:b}}}),null);
__d("Comet3DPhotoViewer.react",["fbt","CometFeedStoryImmersiveMediaMouseOverlay.react","CometLazyPopoverTrigger.react","ConstUriUtils","JSResourceForInteraction","Matrices","UserAgent","clearTimeout","createMeshesFromGLTF","gkx","glMatrixLookingAtTarget","mergeRefs","promiseDone","react","setTimeout","useFrameTiming","useGLBLoadAndParse","useGLContext","useGLTFDerivedFOV","useResizeObserver","useThrottled","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react"),j=b("JSResourceForInteraction")("CometFeedStory3DPhotoContextMenu.react").__setRef("Comet3DPhotoViewer.react"),k=1,l=.01,m=.005,n=.1,o=.06,p=.12;function a(a){var c=a.aspectRatio,d=a.fallbackURI,e=a.fileURI,f=a.onLoad;a=a.photoID;var h=b("gkx")("678680"),q=i.useState(!1),r=q[0],s=q[1],t=i.useRef(null),u=i.createRef();q=i.useState(1024);var v=q[0],w=q[1];q=b("useGLContext")(v,v/c,{expand:!0});var x=q[0],y=q[1];v=b("useFrameTiming")();var z=v[0],A=b("useGLBLoadAndParse")(e);c=i.useState([]);var B=c[0],C=c[1];i.useEffect(function(){if(x==null||A==null)return;var a=!1;b("promiseDone")(b("createMeshesFromGLTF")(x,A).then(function(b){if(a)return;C(b);f&&f()}));return function(){a=!0}},[x,A,f]);q=b("useGLTFDerivedFOV")(A);var D=q.hFov,E=q.maxHorizontalAngle,F=q.maxVerticalAngle,G=q.projectionMatrix,H=q.targetInteractionWeightHorizontal,I=q.targetScrollWeightVertical,J=q.vFov,K=i.useCallback(function(){if(x==null||B.length===0)return;x.enable(x.DEPTH_TEST);x.clear(x.COLOR_BUFFER_BIT|x.DEPTH_BUFFER_BIT);x.enable(x.BLEND);x.blendFunc(x.SRC_ALPHA,x.ONE_MINUS_SRC_ALPHA);for(var a=B,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.program.use();d.draw()}},[B,x]),L=function(){b("clearTimeout")(t.current),t.current=b("setTimeout")(function(){s(!0)},3e3)};v=function(){r&&s(!1),L()};var M=b("useThrottled")(v,100),N=b("useVisibilityObserver")({onVisible:function(){b("clearTimeout")(t.current),t.current=b("setTimeout")(function(){s(!0)},3e3)}});i.useEffect(function(){return function(){b("clearTimeout")(t.current)}},[]);var O=i.useRef([0,0]),P=i.useRef(1),Q=i.useRef(1),R=i.useRef([0,0]),S=i.useRef([0,0]),T=i.useRef(0),U=i.useCallback(function(a){if(x==null)return;if(a!=null){if(T.current!==0){var c=Math.min(a-T.current,50);c=Math.max(Math.min(m*c,1),0);var d=R.current,e=d[0];d=d[1];var f=S.current,g=f[0];f=f[1];S.current=[g+c*(e-g),f+c*(d-f)];g=P.current;f=Q.current;Q.current=f+c*(g-f);(Math.abs(S.current[0]-e)>l||Math.abs(S.current[1]-d)>l||Math.abs(Q.current-g)>l)&&z(U)}T.current=a}c=Q.current;f=J*p*(2*c-1);e=(1-2*c)*F;d=S.current;g=d[0];a=d[1];d=Math.sin(g*Math.PI*.5);g=Math.sin(a*Math.PI*.5);a=J*o*g;var h=D*o*d;d=-d*E;g=-g*F;c=Math.pow(c+.16,3)/(Math.pow(c+.16,3)+Math.pow(1-(c+.16),3))-.9;a=-(a+f);f=-h;h=k-c*n;c=[0+h*Math.cos(a)*Math.sin(f),0+h*Math.sin(a),-k+h*Math.cos(a)*Math.cos(f)];h=[-(H*d),-(e*I+g*(1-I)),-k];a=b("glMatrixLookingAtTarget")(c,h);f=b("Matrices").invertMat4(a);for(var d=B,e=Array.isArray(d),g=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(g>=d.length)break;c=d[g++]}else{g=d.next();if(g.done)break;c=g.value}h=c;h.setUniform("viewMatrix",f);h.setUniform("projectionMatrix",G)}K()},[K,x,D,E,F,B,G,z,H,I,J]);i.useEffect(function(){var a=u==null?void 0:u.current;if(a==null)return;a=a.clientWidth;a!=null&&w(a)},[u]);var V=b("useResizeObserver")(function(a){w(Math.floor(a.width))}),W=i.useCallback(function(){if(x==null)return;var a=x.canvas,b=0,c=0;while(a!=null)b+=a instanceof HTMLElement?a.offsetLeft:0,c+=a instanceof HTMLElement?a.offsetTop:0,a=a instanceof HTMLElement?a.offsetParent:null;O.current=[b,c]},[O,x]),X=i.useCallback(function(){var a;if(x==null)return;W();var b=window.innerHeight,c=x.canvas.clientHeight;b=b+c;a=O.current[1]-((a=(a=document.scrollingElement)==null?void 0:a.scrollTop)!=null?a:0)+c;c=a/b;P.current=c;if(c<0||c>1)return;z(U)},[O,x,z,U,W]);c=i.useCallback(function(a){if(x==null)return;W();var b=a.pageX;a=a.pageY;b=b-O.current[0];a=a-O.current[1];b=2*b/x.canvas.clientWidth-1;a=1-2*a/x.canvas.clientHeight;R.current=[b,a];M();if(b<-1||a<-1||b>1||a>1)return;z(U)},[x,R,z,M,U,W]);i.useEffect(function(){document.addEventListener("scroll",X);U();return function(){document.removeEventListener("scroll",X)}},[U,X]);var Y,Z;if(a!=null){Y=(q=b("ConstUriUtils").getUri("/intern/compphoto/x3d/3dphoto_console"))==null?void 0:(v=q.setDomain("our.intern.facebook.com"))==null?void 0:(q=v.setProtocol("https"))==null?void 0:(v=q.addQueryParam("ent_id",a))==null?void 0:v.toString();Z=(q=b("ConstUriUtils").getUri("/intern/compphoto/x3d/"+a+"/depth"))==null?void 0:(v=q.setDomain("our.intern.facebook.com"))==null?void 0:(a=v.setProtocol("https"))==null?void 0:a.toString()}q=i.useState(0);v=q[0];var aa=q[1];a=i.useState(0);q=a[0];var ba=a[1],ca=function(a,c){var d=/^a$/i.test(a.target.nodeName||""),e=b("UserAgent").isPlatform("Mac OS X")?a.metaKey:a.ctrlKey;d=!d&&h&&e;d&&(aa(a.nativeEvent.offsetX),ba(a.nativeEvent.offsetY),a.preventDefault(),c())};a=i.useMemo(function(){return b("mergeRefs")(y,N,u,V)},[y,N,u,V]);var $=i.jsx("div",{onMouseMove:c,ref:a,children:i.jsx(b("CometFeedStoryImmersiveMediaMouseOverlay.react"),{descriptionFbt:g._("Di chu\u1ed9t \u0111\u1ec3 xem \u1ea3nh \u1edf ch\u1ebf \u0111\u1ed9 3D"),isActive:r,showClick:!1})});c=i.jsx(b("CometLazyPopoverTrigger.react"),{popoverProps:{consoleURL:Y,depthURL:Z,fallbackImgURL:d,fileURL:e,mouseClickX:v,mouseClickY:q},popoverResource:j,children:function(a,b){return i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 i09qtzwb",onContextMenu:function(a){ca(a,b)},ref:a,children:$})}});return h?c:$}}),null);
__d("Comet360PhotoTiledCubemapDataProvider",["Comet360PhotoTiledCubemapDataProvider_tileUriQuery.graphql","Comet360PhotoTiledCubemapTile","CometRelay","Promise","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g!==void 0?g:g=b("Comet360PhotoTiledCubemapDataProvider_tileUriQuery.graphql");a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$5=c,this.$3=new Map(),this.$4=new Map(),this.$6=d,this.$7=e}var c=a.prototype;c.maxTileLevel=function(){return this.$5};c.horizontalFov=function(){return this.$6};c.verticalFov=function(){return this.$7};c.isFetchingTileImage=function(a){a=b("Comet360PhotoTiledCubemapTile").hashCubemapTileInfo(a);return this.$4.has(a)};c.fetchTileImage=function(a){var c=this,d=b("Comet360PhotoTiledCubemapTile").hashCubemapTileInfo(a);if(this.isFetchingTileImage(a)){var e=this.$4.get(d);if(e==null)throw b("unrecoverableViolation")("Data Provider is fetching tile image but promise is null","immersive_media");return e}if(this.$3.has(d))return new(b("Promise"))(function(a,b){a(c.$3.get(d))});e=this.$8(a).then(function(b){return c.$9(a,b).then(function(a){c.$4["delete"](d);return a})});this.$4.set(d,e);return e};c.$9=function(a,c){var d=this,e=b("Comet360PhotoTiledCubemapTile").hashCubemapTileInfo(a);return new(b("Promise"))(function(a,d){var e=new Image();e.crossOrigin="anonymous";e.onload=function(){b("gkx")("1139")&&(e.onload=null),a(e)};c==null?a(null):e.src=c}).then(function(a){d.$3.set(e,a);return a})};c.$8=function(a){return b("CometRelay").fetchQuery(this.$1,h,{id:this.$2,tileInfoList:[a]}).toPromise().then(function(a){a=a==null?void 0:(a=a.node)==null?void 0:a.tiles;return a==null||a[0]==null?null:a[0].uri})};return a}();e.exports=a}),null);
__d("CometRemote360PhotoViewer.react",["Comet360GyroOverlay.react","Comet360PhotoTiledCubemapDataProvider","Comet360PhotoTypes","Comet360PhotoViewer.react","CometPhotoViewerContainerContext","CometRelay","CometRemote360PhotoViewer_photo.graphql","clearTimeout","gkx","react","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react"),j=b("gkx")("2012233"),k=j?1024:584;function l(a){return a/180*Math.PI}function a(a){var c,d,e,f,h,m,n,o,p,q=i.useState(!1),r=q[0],s=q[1];q=i.useCallback(function(){s(!0)},[s]);var t=i.useState(null),u=t[0];t=t[1];var v=i.useContext(b("CometPhotoViewerContainerContext")),w=i.useCallback(function(){if(j&&v!=null&&v.current!=null){var a=v.current.getBoundingClientRect();return{height:a.height,width:a.width}}return{height:k,width:k}},[v]),x=i.useState(!1),y=x[0],z=x[1],A=i.useRef(null);i.useEffect(function(){A.current=b("setTimeout")(function(){z(!0)},2e3);return function(){A.current!=null&&b("clearTimeout")(A.current)}});x=!y||!r;y=b("CometRelay").useRelayEnvironment();r=b("CometRelay").useFragment(g!==void 0?g:g=b("CometRemote360PhotoViewer_photo.graphql"),a.photo);r=(r=r==null?void 0:r.photo_encodings)!=null?r:[];r=r.find(function(a){return(a==null?void 0:a.projection_type)==="tiled_cubemap"});if(r==null){b("recoverableViolation")("360 photo does not have tile_cubemap encoding","comet_feed");return a.fallback}c=(c=r.max_tile_level)!=null?c:0;d=(d=r.id)!=null?d:0;e=(e=(e=r.spherical_metadata)==null?void 0:e.initial_view_heading_degrees)!=null?e:0;f=(f=(f=r.spherical_metadata)==null?void 0:f.initial_view_pitch_degrees)!=null?f:0;h=(h=(h=r.spherical_metadata)==null?void 0:h.initial_vertical_fov_degrees)!=null?h:0;m=(m=(m=r.spherical_metadata)==null?void 0:m.initial_horizontal_fov_degrees)!=null?m:0;n=(n=(n=r.spherical_metadata)==null?void 0:n.cropped_area_image_width_pixels)!=null?n:0;o=(o=(o=r.spherical_metadata)==null?void 0:o.cropped_area_image_height_pixels)!=null?o:0;p=(p=(p=r.spherical_metadata)==null?void 0:p.full_pano_width_pixels)!=null?p:0;r=(r=(r=r.spherical_metadata)==null?void 0:r.full_pano_height_pixels)!=null?r:0;var B=n/o;n=n/p*Math.PI*2;p=o/r*Math.PI;if(u==null){t(new(b("Comet360PhotoTiledCubemapDataProvider"))(y,d.toString(),c,n,p));return a.fallback}o={aspectRatio:B,horizontalFov:n,projectionType:b("Comet360PhotoTypes").Comet360PhotoProjection.TiledCubemap,startingView:{heading:l(e),horizontalFov:m?l(m):null,pitch:l(f),verticalFov:h?l(h):null},tiledCubemapDataProvider:u,verticalFov:p};r=j?a.headingIndicationLocationTop:!1;return i.jsxs("div",{className:"l9j0dhe7",children:[i.jsx(b("Comet360PhotoViewer.react"),{fallbackElement:a.fallback,headingIndicationLocationTop:r,height:w().height,onLoad:q,onPress:a.onPress,photoEncoding:o,width:w().width}),i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb",children:i.jsx(b("Comet360GyroOverlay.react"),{isVisible:x})})]})}}),null);
__d("CometRemote3DPhotoViewer.react",["Comet3DPhotoLoadingOverlay.react","CometFeedStoryViewportMaxHeightMediaLayout.react","CometRelay","CometRemote3DPhotoViewer_photo.graphql","clearTimeout","cr:1298198","react","recoverableViolation","setTimeout","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i,j=h||b("react"),k={content:{height:"datstx6m",position:"l9j0dhe7"},image:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},overlays:{bottom:"i09qtzwb",end:"n7fi1qx3",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},photoContainer:{position:"l9j0dhe7"},root:{borderBottom:"linmgsc8",borderTop:"opwvks06",boxShadow:"g81y0s2s"}};function a(a){var c,d,e=a.fallback,f=b("CometRelay").useFragment(g!==void 0?g:g=b("CometRemote3DPhotoViewer_photo.graphql"),a.photo),h=j.useState(!1),l=h[0],m=h[1];h=j.useState(!1);var n=h[0],o=h[1],p=j.useRef(null);j.useEffect(function(){p.current=b("setTimeout")(function(){o(!0)},2e3);return function(){p.current!=null&&b("clearTimeout")(p.current)}},[]);h=j.useCallback(function(){m(!0)},[m]);n=!n||!l;f=(l=f==null?void 0:f.immersive_photo_encodings)!=null?l:[];l=f.find(function(a){return(a==null?void 0:a.projection_type)==="three_d"});if(a.glbFileURI==null&&l==null){b("recoverableViolation")("3D photo does not have three_d encoding","comet_feed");return e}a=a.glbFileURI!=null?a.glbFileURI:(f=l==null?void 0:l.binary_cdn_uri)!=null?f:"";l=(f=l==null?void 0:l.id)!=null?f:"";f=(f=e.props.src)!=null?f:"";c=(c=e.props.width)!=null?c:0;d=(d=e.props.height)!=null?d:0;(c===0||d===0)&&b("recoverableViolation")("null fallback size was provided for 3d photo","comet_feed");var q=c===0||d===0?{aspectRatio:1,height:1,width:1}:{aspectRatio:c/d,height:d,width:c};q=q.aspectRatio;var r=a!=null&&b("cr:1298198")!=null?j.jsxs("div",{className:(i||(i=b("stylex")))(k.photoContainer),children:[j.jsx(b("cr:1298198"),{aspectRatio:q,fallbackURI:f,fileURI:a,onLoad:h,photoID:l}),j.jsx("div",{className:(i||(i=b("stylex")))(k.overlays),children:j.jsx(b("Comet3DPhotoLoadingOverlay.react"),{isVisible:n})})]}):e;return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("CometFeedStoryViewportMaxHeightMediaLayout.react"),{backgroundColor:null,mediaHeight:d,mediaWidth:c,children:function(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.content,a),children:j.jsx("div",{className:i(k.image),children:r})})}})})}}),null);
__d("CometPhotoApproveTagMutation",["fbt","CometPhotoApproveTagMutation.graphql","CometRelay","cometPushToast"],(function(a,b,c,d,e,f,g){"use strict";f.approveTagMutation=a;var h,i=h!==void 0?h:h=b("CometPhotoApproveTagMutation.graphql");function a(a,c,d){var e=function(){var a=c.photo_id,b=c.subject_id;if(a==null||b==null)return};b("CometRelay").commitMutation(a,{mutation:i,onCompleted:d,onError:function(){b("cometPushToast").cometPushErrorToast({message:g._("Kh\u00f4ng th\u1ec3 g\u1eafn th\u1ebb \u1ea3nh")},4e3)},updater:e,variables:{input:c}})}}),null);
__d("CometPhotoRejectTagMutation",["fbt","CometPhotoRejectTagMutation.graphql","CometRelay","cometPushToast"],(function(a,b,c,d,e,f,g){"use strict";f.removePendingTags=a;var h,i=h!==void 0?h:h=b("CometPhotoRejectTagMutation.graphql");function a(a,c){b("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(){b("cometPushToast").cometPushSimpleToast(g._("\u0110\u00e3 g\u1ee1 th\u1ebb"),4e3)},onError:function(){b("cometPushToast").cometPushErrorToast({message:g._("Kh\u00f4ng th\u1ec3 x\u00f3a th\u1ebb")},4e3)},variables:{input:c}})}}),null);
__d("CometPendingTagRequestList.react",["fbt","CometPendingTagRequestList_tagReview.graphql","CometPhotoApproveTagMutation","CometPhotoRejectTagMutation","CometRelay","CometRow.react","CometRowItem.react","TetraAccessoryListCell.react","TetraButtonGroup.react","TetraList.react","TetraUnit.react","TetraUnitHeader.react","cometPushToast","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=i||b("react");function a(a){var c;a=a.tagReview;a=b("CometRelay").useFragment(h!==void 0?h:h=b("CometPendingTagRequestList_tagReview.graphql"),a);var d=a==null?void 0:a.id;if(d==null)throw b("unrecoverableViolation")("It is impossible to tag a photo if there is no photo id","comet_ui");c=a==null?void 0:(c=a.owner)==null?void 0:c.id;if(c==null)throw b("unrecoverableViolation")("It is impossible to tag a photo if there is no owner of the photo","comet_ui");var e=b("CometRelay").useRelayEnvironment(),f=function(a,b){b=b.nodes.find(function(b){return b.subject_id===a});return b==null?void 0:(b=b.description)==null?void 0:b.text},i=j.useCallback(function(a){if(a.id==null)return;b("CometPhotoRejectTagMutation").removePendingTags(e,{photo_id:d,subject_id:a.id})},[e,d]),k=j.useCallback(function(a,c){if(a.id==null)throw b("unrecoverableViolation")("It is impossible to tag a photo if there is no tagging actor","comet_ui");b("CometPhotoApproveTagMutation").approveTagMutation(e,{photo_id:d,subject_id:a.id},function(){b("cometPushToast").cometPushSimpleToast(g._("{id of the tagged user} \u0111\u00e3 \u0111\u01b0\u1ee3c g\u1eafn th\u1ebb trong \u1ea3nh n\u00e0y",[g._param("id of the tagged user",c)]),4e3)})},[e,d]);c=a==null?void 0:a.pending_tags;a=(a=c==null?void 0:c.edges)!=null?a:[];var l=[];a.forEach(function(a){var c=a.node;a=a.tag_review;if(!c||!a)return;var d=c.id,e=c.name;c=c.profile_photo;if(e==null)return;a=f(d,a);l.push({addOnBottom:{component:j.jsx(b("TetraButtonGroup.react"),{paddingTop:0,primary:{label:g._("Th\u00eam th\u1ebb"),onPress:function(){return k({id:d},e)},testid:"add-tag"},secondary:{label:g._("B\u1ecf qua"),onPress:function(){return i({id:d})},testid:"ignore-tag"},size:"medium"}),type:"buttons"},addOnPrimary:{shape:"circle",size:40,source:{uri:(c=c==null?void 0:c.src)!=null?c:""},type:"profile-photo"},headline:e,meta:a,metaColor:"secondary",metaLineLimit:2})});return c!=null&&c.edges!=null&&c.edges.length>0?j.jsx(b("CometRow.react"),{paddingHorizontal:16,paddingVertical:16,children:j.jsx(b("CometRowItem.react"),{children:j.jsxs("div",{className:"gmoyrkwh ns4ygwem fykbt5ly hgaippwi fni8adji b3i9ofy5",children:[j.jsx(b("TetraUnit.react"),{header:j.jsx(b("TetraUnitHeader.react"),{headline:"Pending Tags",level:2}),type:"transparent"}),j.jsx(b("TetraList.react"),{items:l,children:function(a){var c=a.item;a=a.props;return j.jsx(b("TetraAccessoryListCell.react"),babelHelpers["extends"]({},a,c))}})]})})}):null}}),null);
__d("CometPhotoViewerFullscreen.react",["fbt","ix","CometMediaViewerFullscreenContext","CometSetMediaViewerFullscreenContext","CometTooltip.react","TetraCircleButton.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react");function a(){var a=j.useContext(b("CometSetMediaViewerFullscreenContext")),c=j.useContext(b("CometMediaViewerFullscreenContext")),d=c?g._("Tho\u00e1t ch\u1ebf \u0111\u1ed9 to\u00e0n m\u00e0n h\u00ecnh"):g._("Chuy\u1ec3n sang to\u00e0n m\u00e0n h\u00ecnh"),e=j.useCallback(function(){!c?a(!0):a(!1)},[c,a]);return j.jsx(b("CometTooltip.react"),{position:"below",tooltip:d,children:j.jsx(b("TetraCircleButton.react"),{color:"white",icon:c?b("fbicon")._(h("517758"),20):b("fbicon")._(h("517763"),20),label:d,onPress:e,size:36,testid:void 0,type:"dark-overlay"})})}}),null);
__d("ProductTagPhotoViewerIconClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744226");c=b("FalcoLoggerInternal").create("product_tag_photo_viewer_icon_click",a);e.exports=c}),null);
__d("CometPhotoViewerTopRightIcons.react",["fbt","ix","CometMediaViewerDispatcherContext","CometMediaViewerViewStateContext","CometNumberedBadge.react","CometPhotoViewerAIProductTagSuggestionTrigger.react","CometPhotoViewerFullscreen.react","CometPhotoViewerViewStateContext","CometPhotoViewerViewStateDispatcherContext","CometProductTagLoggingUtils","CometRouteParams","CometRow.react","CometRowItem.react","CometTooltip.react","CometTrackingNodeProvider.react","FBShopsLegacyUpgradeDialog.entrypoint","ProductTagPhotoViewerIconClickFalcoEvent","QE2Logger","TetraCircleButton.react","TetraIcon.react","WebSession","fbicon","gkx","react","stylex","useCometCallout","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=i||b("react"),l={aiProductTagBadge:{display:"j83agx80",end:"n7fi1qx3",position:"pmk7jnqg",top:"kr520xx4",zIndex:"tkr6xdv7"},iconButtons:{end:"n7fi1qx3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"e5nlhep0",paddingStart:"a8nywdso",position:"pmk7jnqg",top:"kr520xx4",zIndex:"tkr6xdv7"},productTagCallout:{maxWidth:"gtvx26ai"}},m=2,n=1;c=.2;var o=1+c,p=1-c;function a(a){var c=a.authorId,d=a.canTag,e=a.fromAYMTRetroTagNotification,f=a.numNewAISuggestions,i=a.photoID,q=a.shouldShowPeopleTagButton,r=a.shouldShowProductTagButton,s=a.storyContainerId,t=a.upgradeShopModalInfo;a=k.useContext(b("CometPhotoViewerViewStateContext"));var u=k.useContext(b("CometMediaViewerViewStateContext")),v=k.useContext(b("CometPhotoViewerViewStateDispatcherContext")),w=k.useContext(b("CometMediaViewerDispatcherContext")),x=k.useState(r&&e),y=x[0],z=x[1];x=g._("B\u1ea1n c\u00f3 th\u1ec3 g\u1eafn th\u1ebb s\u1ea3n ph\u1ea9m trong danh m\u1ee5c \u0111\u1ec3 m\u1ecdi ng\u01b0\u1eddi mua s\u1eafm qua b\u00e0i vi\u1ebft d\u1ec5 d\u00e0ng h\u01a1n.");var A=b("CometRouteParams").useRouteParams(),B=e?b("CometProductTagLoggingUtils").getAYMTChannelName(A.aymt_channel):null;e={align:"end",arrowStyle:"edge",label:x,position:"below",type:"accent",xstyle:l.productTagCallout};A=b("useCometCallout")(e,y);x=k.useCallback(function(){w({type:"SET_ZOOM",zoomFactor:p})},[w]);e=k.useCallback(function(){w({type:"SET_ZOOM",zoomFactor:o})},[w]);var C=function(){(t==null?void 0:t.dialogType)===3&&v({tagData:{isProductTagging:!1,tagModeEnabled:!1},type:"UPDATE_TAG_DATA"})},D=t==null?void 0:t.pageID;y=b("useCometEntryPointDialog")(b("FBShopsLegacyUpgradeDialog.entrypoint"),{adminHasPermissions:(t==null?void 0:t.adminHasPermissions)===!0,dialogType:(y=t==null?void 0:t.dialogType)!=null?y:1,loggingSurface:"post_viewer",pageID:(y=D)!=null?y:"",referralCode:"post_viewer",referralSurface:"post_viewer"});var E=y[0],F=function(){D!=null&&((t==null?void 0:t.shouldLogExperiment)===!0&&b("QE2Logger").logExposureForPage("legacy_shop_admins_on_page",D),(t==null?void 0:t.shouldShowModal)===!0&&E({pageID:D},C))};y=null;r?y=k.jsxs(b("CometRowItem.react"),{children:[b("CometPhotoViewerAIProductTagSuggestionTrigger.react")&&k.jsx(b("CometPhotoViewerAIProductTagSuggestionTrigger.react"),{photoID:i}),k.jsxs(b("CometTooltip.react"),{position:"below",tooltip:f>0?g._("Xem th\u1ebb s\u1ea3n ph\u1ea9m g\u1ee3i \u00fd"):g._("G\u1eafn th\u1ebb s\u1ea3n ph\u1ea9m"),children:[f!==0&&k.jsx("div",{className:(j||(j=b("stylex")))(l.aiProductTagBadge),children:b("CometNumberedBadge.react")!=null&&k.jsx(b("CometNumberedBadge.react"),{color:"blue",value:f})}),k.jsx(b("TetraIcon.react"),{"aria-label":g._("G\u1eafn th\u1ebb s\u1ea3n ph\u1ea9m"),color:"white",disabled:u.scale>1,hideHoverOverlay:!0,icon:b("fbicon")._(h("1650356"),24),onPress:function(){b("ProductTagPhotoViewerIconClickFalcoEvent").log(function(){return{container_post_id:s,creation_session_id:b("WebSession").getId(),creator_id:c,media_id:i,media_type:"photo",platform:"comet",referral_code:B,referral_source:"post_viewer"}}),v({tagModeEnabled:!0,type:"SET_TAG_MODE_ENABLED"}),v({isProductTagging:!0,type:"SET_IS_PRODUCT_TAGGING"}),z(!1),F()},ref:A,testid:void 0})]})]}):q&&(y=k.jsx(b("CometRowItem.react"),{children:k.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:140,children:k.jsx(b("CometTooltip.react"),{position:"below",tooltip:g._("G\u1eafn th\u1ebb \u1ea3nh"),children:k.jsx(b("TetraCircleButton.react"),{color:"white",disabled:u.scale>1,icon:b("fbicon")._(h("502473"),20),label:b("gkx")("1224637")?g._("g\u1eafn th\u1ebb \u0111\u1ed3ng nghi\u1ec7p"):g._("g\u1eafn th\u1ebb b\u1ea1n b\u00e8"),onPress:function(){v({tagModeEnabled:!0,type:"SET_TAG_MODE_ENABLED"})},size:36,testid:void 0,type:"dark-overlay"})})})}));return k.jsx("div",{className:(j||(j=b("stylex")))(l.iconButtons),children:k.jsxs(b("CometRow.react"),{align:"end",children:[k.jsx(b("CometRowItem.react"),{children:k.jsx(b("TetraCircleButton.react"),{color:u.scale===m?"disabled":"white",disabled:u.scale===m||a.tagModeEnabled,icon:b("fbicon")._(h("927269"),20),label:g._("Ph\u00f3ng to"),onPress:e,size:36,type:"dark-overlay"})}),k.jsx(b("CometRowItem.react"),{children:k.jsx(b("TetraCircleButton.react"),{color:u.scale===n?"disabled":"white",disabled:u.scale===n||a.tagModeEnabled,icon:b("fbicon")._(h("927282"),20),label:g._("Thu nh\u1ecf"),onPress:x,size:36,type:"dark-overlay"})}),d&&!a.tagModeEnabled&&!a.isProductTagging?y:null,k.jsx(b("CometRowItem.react"),{children:k.jsx(b("CometPhotoViewerFullscreen.react"),{})})]})})}}),null);
__d("CometMediaUFIChainingSection.react",["CometListItemGlimmer.react","CometMediaUFIChainingSection_feedback.graphql","CometMediaUFIChainingSection_shareable.graphql","CometMediaUFIChainingSection_tagReview.graphql","CometPendingTagRequestList.react","CometRefineRef","CometRelay","CometUFICommentListRenderer.react","CometUFIRealtimeRoot.react","CometUFISummaryAndActions.react","FBLogger","react"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j,k=j||b("react");function a(a,c){var d=a.displayCommentsContext,e=a.feedback,f=a.feedbackSource,j=a.feedLocation,l=a.focusCommentID,m=a.isTextOnlyStory,n=a.onActorSelected,o=a.shareable,p=a.storyRenderLocation;a=a.tagReview;var q=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaUFIChainingSection_feedback.graphql"),e);e=b("CometRelay").useFragment(h!==void 0?h:h=b("CometMediaUFIChainingSection_shareable.graphql"),o);o=b("CometRelay").useFragment(i!==void 0?i:i=b("CometMediaUFIChainingSection_tagReview.graphql"),a);var r=k.useRef();a=k.useCallback(function(){var a=r.current;a!=null&&a.Actions.toggleList({focusComposer:!1})},[]);var s=k.useCallback(function(){var a=r.current;a!=null?a.Actions.expandList({focusComposer:!0,scrollToComposer:!0}):b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",(q==null?void 0:q.id)||"UNKNOWN").mustfix("The 'comment' button was clicked but no comments list ref could be found. That ref is needed to make sure the comments list is open.")},[q]);return k.jsxs(b("CometUFIRealtimeRoot.react"),{enabled:q.is_eligible_for_real_time_updates===!0,children:[k.jsx(b("CometUFISummaryAndActions.react"),{feedLocation:j,feedback:q,feedbackSource:f,isTextOnlyStory:m,onActorSelected:n,onClickCommentsCount:a,onCommentClick:s,ref:c,renderLocation:p,shareable:(m=e)!=null?m:null}),k.jsx("div",{className:"dhix69tm oygrvhab wkznzc2l kvgmc6g5 l6v480f0"}),o!=null?k.jsx(b("CometPendingTagRequestList.react"),{tagReview:o}):null,k.jsx(b("CometUFICommentListRenderer.react"),{displayCommentsContext:d,fallback:k.jsx("div",{className:"l6v480f0","data-testid":void 0,children:k.jsx(b("CometListItemGlimmer.react"),{imageSize:36,imageStyle:"circle",numberOfItems:4})}),feedLocation:j,feedback:q,feedbackSource:f,focusCommentID:l,listRef:b("CometRefineRef")(r),storyRenderLocation:p})]})}c=k.forwardRef(a);e.exports=c}),null);
__d("CometMediaUFI.react",["CometMediaUFIChainingSection.react","CometMediaUFI_feedback.graphql","CometMediaUFI_shareable.graphql","CometMediaUFI_tagReview.graphql","CometRelay","CometStoryRenderLocationContext.react","react","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j,k=j||b("react");c=b("requireDeferred")("CometUFIReactionsAnimationPreloader").__setRef("CometMediaUFI.react");c.onReady(function(a){return new a().preloadAll()});function a(a,c){var d,e=a.displayCommentsContext,f=a.feedback,j=a.feedbackSource,l=a.feedLocation,m=a.focusCommentID,n=a.isTextOnlyStory,o=a.onActorSelected,p=a.pendingTags;a=a.shareable;f=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaUFI_feedback.graphql"),f);a=b("CometRelay").useFragment(h!==void 0?h:h=b("CometMediaUFI_shareable.graphql"),a);p=b("CometRelay").useFragment(i!==void 0?i:i=b("CometMediaUFI_tagReview.graphql"),p);d=(d=k.useContext(b("CometStoryRenderLocationContext.react")))!=null?d:"newsstand";return k.jsx(b("CometMediaUFIChainingSection.react"),{displayCommentsContext:(e=e)!=null?e:{},feedLocation:l,feedback:f,feedbackSource:j,focusCommentID:m,isTextOnlyStory:n,onActorSelected:o,ref:c,shareable:(a==null?void 0:a.can_viewer_share)===!0?a:null,storyRenderLocation:d,tagReview:(e=p)!=null?e:null},(j=f==null?void 0:(l=f.viewer_actor)==null?void 0:l.id)!=null?j:"UNKNOWN")}d=k.memo(k.forwardRef(a));e.exports=d}),null);
__d("CometMediaViewerDescriptionSection.react",["CometEmojiTransform","CometEmoticonTransform","CometHovercardEntityRenderer","CometLineBreakTransform","CometLinkedEntityRenderer","CometMediaViewerDescriptionSection_media.graphql","CometRelay","CometShortenedExternalUrlEntityRenderer","CometTextWithEntitiesRelay.react","CometTrackingNodeProvider.react","CometTrackingNodeRenderer","TetraText.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react"),j={"*":[b("CometLinkedEntityRenderer"),b("CometTrackingNodeRenderer")],Event:[b("CometHovercardEntityRenderer")],ExternalUrl:[b("CometShortenedExternalUrlEntityRenderer")],Group:[b("CometHovercardEntityRenderer")],Page:[b("CometHovercardEntityRenderer")],User:[b("CometHovercardEntityRenderer")]},k=[b("CometEmoticonTransform")(),b("CometEmojiTransform")(),b("CometLineBreakTransform")];function a(a){a=a.media;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaViewerDescriptionSection_media.graphql"),a);var c=a.attached_comment,d=a.message;a=a.message_preferred_body;c=c==null?void 0:c.preferred_body;d=(d=d)!=null?d:c;return d==null?null:i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:18,children:i.jsx(b("TetraText.react"),{type:"body3",children:a!==null?i.jsx(b("CometRelay").MatchContainer,{match:a}):i.jsx(b("CometTextWithEntitiesRelay.react"),{renderers:j,textWithEntities:d,transforms:k,truncationStyle:"see-more-and-less"})})})}}),null);
__d("CometMediaViewerSuffixSection.react",["CometAggregatedEntitiesTooltipRenderer","CometBoldedEntityRenderer","CometEmojiTransform","CometEmoticonTransform","CometFeedStorySuffixAggregatedUsersRenderer","CometHovercardEntityRenderer","CometLinkedEntityRenderer","CometMediaViewerSuffixSection_story.graphql","CometRelay","CometTextWithEntitiesRelay.react","CometTrackingNodeProvider.react","CometTrackingNodeRenderer","TetraText.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react"),j=[b("CometEmoticonTransform")(),b("CometEmojiTransform")()];function a(a){a=a.story;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaViewerSuffixSection_story.graphql"),a);var c=a==null?void 0:a.id;a=a==null?void 0:a.suffix;var d=i.useMemo(function(){var a,d,e;return{"*":[b("CometBoldedEntityRenderer")],Aggregate:[b("CometAggregatedEntitiesTooltipRenderer"),b("CometFeedStorySuffixAggregatedUsersRenderer")(c,"comet_media_viewer")],Application:[a=b("CometLinkedEntityRenderer"),d=b("CometTrackingNodeRenderer")],Event:[e=b("CometHovercardEntityRenderer"),a,d],Group:[e,a,d],Page:[e,a,d],SyntheticActor:[a,d],User:[e,a,d]}},[c]);return a==null?null:i.jsx("div",{className:"j7796vcc",children:i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:10,children:i.jsxs(b("TetraText.react"),{type:"body3",children:[i.jsx("span",{children:"\u2014\xa0"}),i.jsx(b("CometTextWithEntitiesRelay.react"),{renderers:d,textWithEntities:a,transforms:j})]})})})}}),null);
__d("CometMediaViewerStorySuffixSection.react",["CometMediaViewerStorySuffixSection_media.graphql","CometMediaViewerSuffixSection.react","CometRelay","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){a=a.media;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaViewerStorySuffixSection_media.graphql"),a);var c=a.container_story;a=a.creation_story;a=(a=a)!=null?a:c;return a==null?null:i.jsx(b("CometMediaViewerSuffixSection.react"),{story:a})}}),null);
__d("CometMediaViewerFallbackForNoStory.react",["CometFeedStoryMetaSectionMiddot.react","CometImageIcon.react","CometMediaViewerDescriptionSection.react","CometMediaViewerFallbackForNoStory_media.graphql","CometMediaViewerStorySuffixSection.react","CometPrivacySelectorForScope.react","CometRelativeTimestamp.react","CometRelay","CometTimestamp.react","TetraTextPairing.react","react","useServerTime"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react"),j=1e3*60*60*24;function k(a,c){c=new Date(c*1e3);var d=c.valueOf()>a.valueOf(),e=a.valueOf()-c.valueOf()<j;return!d&&e?b("CometRelativeTimestamp.react").getRelativeTimestamp(a,c,"shortened"):b("CometTimestamp.react").getTimestamp(a,c)}function a(a){var c,d;a=a.media;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaViewerFallbackForNoStory_media.graphql"),a);c=a==null?void 0:(c=a.owner)==null?void 0:(c=c.profile_picture)==null?void 0:c.uri;d=a==null?void 0:(d=a.owner)==null?void 0:d.name;var e=a==null?void 0:a.created_time,f=a==null?void 0:a.privacy_scope,h=b("useServerTime")();e=k(h,(h=e)!=null?h:0).toString();return i.jsxs("div",{"data-testid":void 0,children:[i.jsxs("div",{className:"j83agx80",children:[i.jsx(b("CometImageIcon.react"),{size:40,src:(h=c)!=null?h:"",style:"circle"}),i.jsx("div",{className:"aov4n071 h676nmdw buofh1pr",children:i.jsx(b("TetraTextPairing.react"),{headline:i.jsx("div",{className:"aahdfvyu",children:d}),level:4,meta:i.jsxs("div",{children:[i.jsx("span",{children:e}),i.jsx(b("CometFeedStoryMetaSectionMiddot.react"),{}),i.jsx(b("CometPrivacySelectorForScope.react"),{renderLocation:"COMET_MEDIA_VIEWER",scope:f})]})})})]}),i.jsx("div",{className:"a8nywdso j7796vcc rz4wbd8a l29c1vbm",children:i.jsx(b("CometMediaViewerDescriptionSection.react"),{media:a})}),i.jsx(b("CometMediaViewerStorySuffixSection.react"),{media:a})]})}}),null);
__d("CometMediaViewerTitleSection.react",["BaseHeading.react","CometFeedARIAProperties.react","CometFeedStoryActorLink.react","CometMediaViewerTitleSection_story.graphql","CometRelay","CometTrackingNodeProvider.react","TetraText.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j=h||b("react"),k={title:{marginTop:"aahdfvyu"}};function a(a){var c,d=j.useContext(b("CometFeedARIAProperties.react"));a=a.story;c=a==null?void 0:(c=a.actors)==null?void 0:c[0];if(c==null)return null;a=j.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:304,children:j.jsx(b("CometFeedStoryActorLink.react"),{story:a,children:c.name})});return j.jsx("div",{className:(i||(i=b("stylex")))(k.title),children:j.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:10,children:j.jsx(b("BaseHeading.react"),babelHelpers["extends"]({xstyle:k.title},d.titleTargetProps,{ref:d.titleTargetRef,children:j.jsx(b("TetraText.react"),{color:"secondary",type:"body3",children:a})}))})})}c=b("CometRelay").createSuspenseFragmentContainer_DEPRECATED(a,{story:g!==void 0?g:g=b("CometMediaViewerTitleSection_story.graphql")});e.exports=c}),null);
__d("CometMediaViewerContextSection.react",["CometFeedMatchRenderer.react","CometFeedStoryActorPhotoSection.react","CometFeedStoryDropdownMenuLoggerContext","CometFeedStoryMenuSection.react","CometFeedStoryMetadataSection.react","CometMediaViewerContextSection_media.graphql","CometMediaViewerDescriptionSection.react","CometMediaViewerFallbackForNoStory.react","CometMediaViewerStorySuffixSection.react","CometMediaViewerTitleSection.react","CometPhotoViewerSimilarProductsSection.react","CometPhotoViewerTaggedProductsSection.react","CometPlaceholder.react","CometRelay","CometStoryRenderLocationContext.react","TetraTextPairing.react","WebSession","deferredLoadComponent","gkx","react","recoverableViolation","requireDeferred"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react"),j=b("requireDeferred")("CometMediaOptionsClickFalcoEvent").__setRef("CometMediaViewerContextSection.react"),k=b("deferredLoadComponent")(b("requireDeferred")("CometVideoViewerTaggedProductsSection.react").__setRef("CometMediaViewerContextSection.react"));function a(a){var c,d=a.media;a=babelHelpers.objectWithoutPropertiesLoose(a,["media"]);d=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaViewerContextSection_media.graphql"),d);var e=d==null?void 0:d.id,f=d==null?void 0:d.creation_story;c=(d==null?void 0:(c=d.owner)==null?void 0:c.__typename)==="Page";var h=i.useCallback(function(){if(e==null){b("recoverableViolation")("Cannot log options dropdown click event with media id of null","comet_feed");return}var a=b("WebSession").getId();j.onReady(function(b){b.log(function(){return{media_fbid:e,session_id:a}})})},[e]),l=i.useMemo(function(){return{nodeID:e}},[e]);return f==null?i.jsx(b("CometMediaViewerFallbackForNoStory.react"),{media:d}):i.jsxs("div",{"data-testid":void 0,children:[i.jsxs("div",{className:"btwxx1t3 j83agx80 hybvsw6c ll8tlv6m",children:[i.jsx(b("CometFeedStoryActorPhotoSection.react"),{story:f}),i.jsx("div",{className:"buofh1pr",children:i.jsx(b("TetraTextPairing.react"),{body:i.jsx(b("CometMediaViewerTitleSection.react"),{story:f}),level:3,meta:i.jsx(b("CometFeedStoryMetadataSection.react"),{privacySelectorRenderLocation:"COMET_MEDIA_VIEWER",story:f})})}),e!=null?i.jsx(b("CometFeedStoryDropdownMenuLoggerContext").Provider,{value:l,children:i.jsx(b("CometFeedStoryMenuSection.react"),{additionalOnPressHandler:h,feedLocation:a.feedLocation,id:f==null?void 0:f.id,serializedFRTPIdentifiers:f==null?void 0:f.serialized_frtp_identifiers,storyDebugInfo:f==null?void 0:f.debug_info})}):null]}),i.jsx("div",{className:"a8nywdso j7796vcc rz4wbd8a l29c1vbm",children:i.jsx(b("CometMediaViewerDescriptionSection.react"),{media:d})}),b("gkx")("1069716")&&((d==null?void 0:d.is_playable)===!0&&e!=null?i.jsx(b("CometPlaceholder.react"),{fallback:null,children:i.jsx(k,{isOwnerPage:c,videoID:e})}):i.jsx(b("CometPhotoViewerTaggedProductsSection.react"),{photo:d})),b("gkx")("1701489")&&(d==null?void 0:d.is_playable)!==!0?i.jsx(b("CometPhotoViewerSimilarProductsSection.react"),{photo:d}):null,i.jsx(b("CometStoryRenderLocationContext.react").Provider,{value:"comet_media_viewer",children:i.jsx(b("CometFeedMatchRenderer.react"),{match:(l=f.comet_sections)==null?void 0:l.footer,props:{},section:"footer",trackingData:f.encrypted_tracking})}),i.jsx(b("CometMediaViewerStorySuffixSection.react"),{media:d})]})}}),null);
__d("CometMediaViewerRightRailUFIWithTracking.react",["CometMediaUFI.react","react","useCometDisplayTimingTracker"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=b("useCometDisplayTimingTracker")("MediaViewerUFI");return h.jsx(b("CometMediaUFI.react"),babelHelpers["extends"]({},a,{ref:c}))}}),null);